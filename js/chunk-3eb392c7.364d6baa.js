(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3eb392c7"],{"1fb2":function(t,e,a){"use strict";var i={name:"publish_original",props:["data"],data:function(){return{original:~~this.data}},model:{prop:"data",event:"update"},watch:{data:function(t){this.original=~~t},original:{deep:!0,handler:function(t){this.$emit("update",~~t)}}},computed:{},methods:{},mounted:function(){},components:{}},n=a("2877"),l=Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-original"},[e("el-form-item",{attrs:{label:"原创"}},[e("el-switch",{attrs:{"active-color":"#13ce66","active-value":1,"inactive-value":0},model:{value:t.original,callback:function(e){t.original=e},expression:"original"}})],1),t._t("default")],2)}),[],!1,null,null,null);e.a=l.exports},2483:function(t,e,a){"use strict";a("7f06")},"2fe1":function(t,e,a){"use strict";a("80cf")},"505f":function(t,e,a){"use strict";var i=a("52da"),n={name:"publish_client",props:["data","forbidAll"],data:function(){return{client:this.data}},model:{prop:"data",event:"update"},watch:{data:function(t){this.client=t},client:{deep:!0,handler:function(t){this.$emit("update",t)}}},computed:{},methods:{handleChange:function(){i.a.$emit("changeClient",this.client)}},mounted:function(){},components:{}},l=a("2877"),o=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-client"},[e("el-form-item",{attrs:{label:"版本"}},[e("el-radio-group",{on:{change:t.handleChange},model:{value:t.client,callback:function(e){t.client=e},expression:"client"}},[e("el-radio",{attrs:{label:"std"}},[t._v("重制")]),e("el-radio",{attrs:{label:"origin"}},[t._v("缘起")]),t.forbidAll?t._e():e("el-radio",{attrs:{label:"all"}},[t._v("双端")])],1)],1),t._t("default")],2)}),[],!1,null,null,null);e.a=o.exports},"52da":function(t,e,a){"use strict";var i=new(a("2b0e").default);e.a=i},"7f06":function(t,e,a){},"80cf":function(t,e,a){},abe2:function(t,e,a){"use strict";a("d810")},b13e:function(t,e,a){"use strict";var i={name:"post_banner",components:{uploadImage:a("5571").a},props:["data"],data:function(){return{banner:this.data}},model:{prop:"data",event:"update"},watch:{data:function(t){this.banner=t},banner:function(t){this.$emit("update",t)}}},n=(a("2483"),a("2877")),l=Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-banner"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("海报")]),e("uploadImage",{attrs:{info:"非必选。首页海报尺寸1600*280（推荐3200*560支持高分屏），最大20M。"},model:{value:t.banner,callback:function(e){t.banner=e},expression:"banner"}})],1)}),[],!1,null,null,null);e.a=l.exports},d0a1:function(t,e,a){"use strict";var i={name:"publish_title",props:["data","hideDiv","placeholder"],data:function(){return{title:this.data}},model:{prop:"data",event:"update"},watch:{data:function(t){this.title=t},title:{deep:!0,handler:function(t){this.$emit("update",t)}}},computed:{},methods:{},mounted:function(){},components:{}},n=a("2877"),l=Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-title"},[t.hideDiv?t._e():e("el-divider",{attrs:{"content-position":"left"}},[t._v("标题")]),e("el-input",{attrs:{maxlength:50,minlength:2,"show-word-limit":"",required:"",placeholder:t.placeholder||"请填写标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._t("default")],2)}),[],!1,null,null,null);e.a=l.exports},d810:function(t,e,a){},e4b0:function(t,e,a){"use strict";a.r(e);var i=a("ef77"),n=a("d0a1"),l=a("1fb2"),o=a("505f"),s=(a("a9e3"),a("fb6a"),a("e9c4"),a("41cb"));var r=a("d4f4"),c={name:"paid_attachment",props:{body:{type:Number,default:2},describe:{type:String,default:"个人收藏"}},data:function(){return{data:{id:"",uuid:"",json:""}}},methods:{uploadData:function(t){var e,a=this,i=new FormData,n=t.target.files[0];i.append("jx3dat",n,"data.jx3dat"),i.append("body",this.body),i.append("describe",this.describe),(e=i,Object(s.c)().post("/api/face/file-upload",e)).then((function(t){console.log(t),a.facedat.file=t.data.data[0],a.$message({message:"上传成功",type:"success"})})),t.target.value="",this.parseData(n)},selectData:function(){document.getElementById("face_file").dispatchEvent(new MouseEvent("click"))},parseData:function(t){var e=this;if(FileReader){var a=new FileReader;a.readAsText(t),a.onload=function(t){console.log("读取成功...开始执行分析...");var a=t.target.result;a=a.slice(a.indexOf("return {"));try{e.object=Object(r.parse)(a),e.data.json=JSON.stringify(Object(r.parse)(a)),e.$notify({title:"成功",message:"脸型数据解析成功",type:"success"})}catch(t){e.$notify.error({title:"错误",message:"无法解析脸型数据"})}},a.onerror=function(t){e.$notify.error({title:"错误",message:"无法解析脸型数据"})}}}}},u=(a("2fe1"),a("2877")),p=Object(u.a)(c,(function(){var t=this._self._c;return t("div",{staticClass:"m-paid_attachment"},[t("input",{staticClass:"u-data-input",attrs:{type:"file",id:"face_file"},on:{change:this.uploadData}}),t("el-button",{attrs:{type:"primary",icon:"el-icon-upload2"},on:{click:this.selectData}},[this._v("上传脸型数据")]),t("span",{directives:[{name:"show",rawName:"v-show",value:this.data.uuid,expression:"data.uuid"}],staticClass:"u-data-ready"},[t("i",{staticClass:"el-icon-success"}),this._v(" 已上传 ")])],1)}),[],!1,null,"27fa09e2",null).exports,d=a("7b4a"),f=a("b13e"),b={name:"face",components:{publishHeader:i.a,publishTitle:n.a,publishOriginal:l.a,publishClient:o.a,paidAttachment:p,UploadAlbum:d.a,publishBanner:f.a},data:function(){return{post:{original:"",author_name:"",author_link:"",title:"",remark:"",banner:"",client:"",body_type:2,data:"",file:"",cover:"",images:[],related:[],price_type:0,price_count:""},loading:!1,processing:!1}}},m=Object(u.a)(b,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-publish-box m-publish-box-face"},[e("publish-header",{attrs:{name:"捏脸分享"}}),e("el-form",{attrs:{"label-position":"left","label-width":"90px"}},[e("publish-title",{model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}}),e("div",{staticClass:"m-publish-info"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("信息")]),e("publish-client",{attrs:{forbidAll:!0},model:{value:t.post.client,callback:function(e){t.$set(t.post,"client",e)},expression:"post.client"}}),e("publish-original",{model:{value:t.post.original,callback:function(e){t.$set(t.post,"original",e)},expression:"post.original"}}),t.post.original?[e("el-form-item",{attrs:{label:"原作者名称",prop:"author_name"}},[e("el-input",{attrs:{placeholder:"输入原作者名称"},model:{value:t.post.author_name,callback:function(e){t.$set(t.post,"author_name",e)},expression:"post.author_name"}})],1),e("el-form-item",{attrs:{label:"原作者链接",prop:"author_link"}},[e("el-input",{attrs:{placeholder:"输入原作者链接"},model:{value:t.post.author_link,callback:function(e){t.$set(t.post,"author_link",e)},expression:"post.author_link"}})],1)]:t._e(),e("el-form-item",{attrs:{label:"价格类型"}},[e("el-radio-group",{model:{value:t.post.price_type,callback:function(e){t.$set(t.post,"price_type",e)},expression:"post.price_type"}},[e("el-radio",{attrs:{label:0}},[t._v("免费")]),e("el-radio",{attrs:{label:1}},[t._v("盒币")]),e("el-radio",{attrs:{label:2}},[t._v("金箔")])],1)],1),t.post.price_type?e("el-form-item",{attrs:{label:"价格"}},[e("el-input-number",{model:{value:t.post.price_count,callback:function(e){t.$set(t.post,"price_count",e)},expression:"post.price_count"}})],1):t._e(),e("el-form-item",{attrs:{label:"体型"}},[e("el-radio-group",{model:{value:t.post.body_type,callback:function(e){t.$set(t.post,"body_type",e)},expression:"post.body_type"}},[e("el-radio",{attrs:{label:1}},[t._v("成男")]),e("el-radio",{attrs:{label:2}},[t._v("成女")]),e("el-radio",{attrs:{label:5}},[t._v("正太")]),e("el-radio",{attrs:{label:6}},[t._v("小女孩")])],1)],1),e("el-form-item",{attrs:{label:"数据"}},[e("paid-attachment",{attrs:{body:t.post.body_type}})],1),e("el-form-item",{attrs:{label:"描述"}},[e("publish-title",{attrs:{hideDiv:!0,placeholder:"请填写描述"},model:{value:t.post.remark,callback:function(e){t.$set(t.post,"remark",e)},expression:"post.remark"}})],1),e("el-divider",{attrs:{"content-position":"left"}},[t._v("扩展")]),e("el-form-item",{attrs:{label:"图片列表"}},[e("UploadAlbum",{model:{value:t.post.images,callback:function(e){t.$set(t.post,"images",e)},expression:"post.images"}})],1),e("publish-banner",{model:{value:t.post.banner,callback:function(e){t.$set(t.post,"banner",e)},expression:"post.banner"}})],2),e("div",{staticClass:"m-publish-buttons"},[e("el-button",{attrs:{type:"primary",disabled:t.processing},on:{click:function(e){return t.publish("publish",!0)}}},[t._v("发    布")]),e("el-button",{attrs:{type:"plain",disabled:t.processing},on:{click:function(e){return t.publish("draft",!1)}}},[t._v("保存为草稿")])],1)],1)],1)}),[],!1,null,null,null);e.default=m.exports},ef77:function(t,e,a){"use strict";a("b0c0");var i={name:"publish_header",props:["name"],data:function(){return{}},computed:{},methods:{goBack:function(){window.history.length?this.$router.go(-1):this.$router.push("/")}},mounted:function(){},components:{}},n=(a("abe2"),a("2877")),l=Object(n.a)(i,(function(){var t=this._self._c;return t("div",{staticClass:"m-publish-header"},[t("el-page-header",{attrs:{content:this.name},on:{back:this.goBack}}),this._t("default")],2)}),[],!1,null,null,null);e.a=l.exports}}]);
//# sourceMappingURL=chunk-3eb392c7.364d6baa.js.map
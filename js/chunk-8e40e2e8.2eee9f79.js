(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8e40e2e8"],{"024d":function(t,a,e){"use strict";e.r(a);e("2ca0"),e("159b"),e("a434");var i={name:"draft",props:[],components:{},data:function(){return{data:[]}},computed:{isSupported:function(){return!!window.localStorage},isNotNull:function(){return!!this.data&&!!this.data.length}},methods:{loadDrafts:function(){for(var t=localStorage.length,a=0;a<t;a++){var e=localStorage.key(a);e.startsWith("tinymce-autosave-")&&this.data.push({key:e,data:localStorage.getItem(e)})}},clean:function(){var t=this;this.$alert("此操作不可逆！请谨慎操作！","警告",{confirmButtonText:"确定清空",callback:function(a){t.data.forEach((function(t){localStorage.removeItem(t.key)})),t.data=[],t.$notify({title:"清空成功",type:"success",message:"本地草稿清空成功"})}})},preview:function(t){t.active=!t.active,this.$forceUpdate()},del:function(t,a){localStorage.removeItem(t.key),this.data.splice(a,1)},onCopy:function(t){this.$notify({title:"复制成功",message:"草稿源码复制成功",type:"success"})},onError:function(){this.$notify.error({title:"复制失败",message:"请手动复制"})}},filters:{},created:function(){localStorage&&this.loadDrafts()},mounted:function(){}},s=(e("aaa6"),e("2877")),o=Object(s.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"m-publish m-draft"},[e("div",{staticClass:"m-draft-header"},[t._m(0),e("div",{staticClass:"u-op"},[e("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small",disabled:!t.isNotNull},on:{click:t.clean}},[t._v("清空")])],1)]),t.isSupported?[e("div",{staticClass:"m-draft-warning"},[e("el-alert",{attrs:{title:"以下草稿为编辑器为该浏览器产生的临时本地草稿HTML源码，并不存在于服务器中，仅用于断网或窗口异常关闭时恢复。",type:"warning","show-icon":""}})],1),t.isNotNull?e("div",{staticClass:"m-draft-list"},[e("ul",{staticClass:"u-list"},t._l(t.data,(function(a,i){return e("li",{key:i,staticClass:"u-item",on:{click:function(e){return t.preview(a)}}},[e("div",{staticClass:"u-label",class:{on:!!a.active}},[e("i",{staticClass:"u-item-icon",class:a.active?"el-icon-folder-opened":"el-icon-folder"}),e("span",{staticClass:"u-item-key"},[t._v(t._s(a.key))]),e("div",{staticClass:"u-op"},[e("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.data,expression:"item.data",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"u-delete",attrs:{type:"info",icon:"el-icon-document-copy",size:"mini"},on:{click:function(t){t.stopPropagation()}}},[t._v("复制")]),e("el-popconfirm",{attrs:{title:"确定删除吗？"},on:{confirm:function(e){return t.del(a,i)}}},[e("el-button",{staticClass:"u-delete",attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){t.stopPropagation()}},slot:"reference"},[t._v("删除")])],1)],1)]),a.active?e("div",{staticClass:"u-value"},[e("div",{staticClass:"u-content"},[t._v(t._s(a.data))])]):t._e()])})),0)]):e("div",{staticClass:"m-draft-null"},[e("i",{staticClass:"el-icon-warning-outline"}),t._v(" 暂无任何内容 ")])]:[e("el-alert",{attrs:{title:"您的浏览器太旧了，不支持本功能。",type:"error","show-icon":""}})]],2)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{staticClass:"m-title"},[a("i",{staticClass:"el-icon-receiving"}),this._v(" 草稿箱 "),a("a",{staticClass:"u-help",attrs:{href:"/tool/21933",target:"_blank"}},[a("i",{staticClass:"el-icon-question"}),this._v(" 使用帮助 ")])])}],!1,null,null,null);a.default=o.exports},"159b":function(t,a,e){var i=e("da84"),s=e("fdbc"),o=e("17c2"),n=e("9112");for(var c in s){var r=i[c],l=r&&r.prototype;if(l&&l.forEach!==o)try{n(l,"forEach",o)}catch(t){l.forEach=o}}},"17c2":function(t,a,e){"use strict";var i=e("b727").forEach,s=e("a640")("forEach");t.exports=s?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"402b":function(t,a,e){},a640:function(t,a,e){"use strict";var i=e("d039");t.exports=function(t,a){var e=[][t];return!!e&&i((function(){e.call(null,a||function(){throw 1},1)}))}},aaa6:function(t,a,e){"use strict";e("402b")}}]);
//# sourceMappingURL=chunk-8e40e2e8.2eee9f79.js.map
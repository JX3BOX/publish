{"version":3,"sources":["webpack:///./src/components/publish_original.vue","webpack:///./src/components/publish_original.vue?15fd","webpack:///src/components/publish_original.vue","webpack:///./src/components/publish_original.vue?5e2c","webpack:///./src/service/body.js","webpack:///./src/post/body.vue?1b6a","webpack:///src/post/body.vue","webpack:///./src/post/body.vue?0136","webpack:///./src/post/body.vue","webpack:///./src/post/body.vue?f106","webpack:///./src/components/publish_header.vue?4823","webpack:///./src/components/face_attachment.vue?f96a","webpack:///./src/components/face_attachment.vue?f25c","webpack:///src/components/face_attachment.vue","webpack:///./src/components/face_attachment.vue?df38","webpack:///./src/components/face_attachment.vue","webpack:///./src/components/publish_title.vue","webpack:///./src/components/publish_title.vue?ad03","webpack:///src/components/publish_title.vue","webpack:///./src/components/publish_title.vue?fc78","webpack:///./src/components/publish_header.vue?6f8c","webpack:///src/components/publish_header.vue","webpack:///./src/components/publish_header.vue?3a87","webpack:///./src/components/publish_header.vue","webpack:///./src/service/face.js"],"names":["name","props","data","original","model","prop","event","watch","newval","deep","handler","$emit","computed","methods","mounted","components","component","_vm","this","_c","_self","staticClass","attrs","value","callback","$$v","expression","_t","getBodyList","params","$next","get","getBody","id","concat","uploadBodyFile","post","addBody","updateBody","put","bodyOnline","bodyOffline","getAttachmentOfPost","postId","publishHeader","publishTitle","publishOriginal","faceAttachment","UploadAlbum","publishBanner","is_fr","author_name","author_link","title","remark","banner","client","body_type","file","cover","images","related","price_type","price_count","loading","processing","postType","bodyMap","promise","bodyAttachments","bodyData","isSuperAuthor","cny_enable","$route","$store","state","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","init","User","sent","stop","_this2","getData","getConfig","then","res","Number","val","_this3","map","item","url","result","uuid","describe","find","handleBodyChange","_ref","_ref$object","object","_ref$json","json","_ref$uuid","_ref$id","_ref$name","push","validator","message","required","requiredMsg","i","length","$message","warning","publish","_this4","_objectSpread","bodyAttachmentIds","JSON","stringify","attachments","success","setTimeout","location","href","finally","type","removeFile","newQueue","setMain","cloneDeep","$notify","duration","directives","rawName","$set","_v","on","_l","key","$event","_s","_e","scopedSlots","_u","fn","staticStyle","proxy","body_label","label","body","default","String","face","selectData","document","getElementById","dispatchEvent","MouseEvent","uploadFile","formdata","uploadFaceFile","uploadData","FormData","append","processFile","e","target","files","size","parseAndUpload","FileReader","vm","fr","onload","console","log","load","error","startsWith","ex","onerror","readAsArrayBuffer","clearData","hideDiv","placeholder","goBack","window","history","$router","go","delFace","delete","addFace","getFace","updateFace","getFaceList","faceOnline","faceOffline"],"mappings":"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","file":"js/chunk-716fdb68.8c807dc0.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-publish-original\"},[_c('el-form-item',{attrs:{\"label\":\"原创\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"active-value\":1,\"inactive-value\":0},model:{value:(_vm.original),callback:function ($$v) {_vm.original=$$v},expression:\"original\"}})],1),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_original.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_original.vue?vue&type=script&lang=js\"","<template>\n    <div class=\"m-publish-original\">\n        <el-form-item label=\"原创\">\n            <el-switch v-model=\"original\" active-color=\"#13ce66\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\n        </el-form-item>\n        <slot></slot>\n    </div>\n</template>\n<script>\nexport default {\n    name: \"publish_original\",\n    props: [\"data\"],\n    data: function () {\n        return {\n            original: ~~this.data,\n        };\n    },\n    model: {\n        prop: \"data\", //向上同步数据\n        event: \"update\",\n    },\n    watch: {\n        data: function (newval) {\n            this.original = ~~newval;\n        },\n        original: {\n            deep: true,\n            handler: function (newval) {\n                this.$emit(\"update\", ~~newval);\n            },\n        },\n    },\n    computed: {},\n    methods: {},\n    mounted: function () {},\n    components: {},\n};\n</script>\n","import { render, staticRenderFns } from \"./publish_original.vue?vue&type=template&id=7086d09e\"\nimport script from \"./publish_original.vue?vue&type=script&lang=js\"\nexport * from \"./publish_original.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $next } from \"@jx3box/jx3box-common/js/https\";\n\n// 获取自己的捏脸列表 \nexport function getBodyList(params) {\n    return $next().get(\"/api/pvxbody/my-list\", { params });\n}\n// 获取单个体型\nexport function getBody(id) {\n    return $next().get(`/api/pvxbody/${id}`);\n}\n\n// 上传体型\nexport function uploadBodyFile(data) {\n    return $next().post(\"/api/pvxbody/file-upload\", data);\n}\n\n// 添加体型\nexport function addBody(data) {\n    return $next().post(\"/api/pvxbody\", data);\n}\n\n// 更新体型\nexport function updateBody(id, data) {\n    return $next().put(`/api/pvxbody/${id}`, data);\n}\n\n// 上架 \nexport function bodyOnline(id) {\n    return $next().put(`/api/pvxbody/${id}/online`);\n}\n\n// 下架 \nexport function bodyOffline(id) {\n    return $next().put(`/api/pvxbody/${id}/offline`);\n}\n\n//  作品关联的附件 \nexport function getAttachmentOfPost(postId) {\n    return $next().get(`/api/charge_attachment/pvxbody/${postId}/edit`);\n}","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./body.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./body.vue?vue&type=script&lang=js\"","<template>\n    <div class=\"m-publish-box m-publish-box-face\" v-loading=\"loading\">\n        <!-- 头部 -->\n        <publish-header name=\"体型分享\"></publish-header>\n\n        <el-form label-position=\"left\" label-width=\"90px\">\n            <!-- 标题 -->\n            <publish-title v-model=\"post.title\"></publish-title>\n            <!-- 信息 -->\n            <div class=\"m-publish-info\">\n                <el-divider content-position=\"left\">信息</el-divider>\n                <el-form-item label=\"数据\">\n                    <face-attachment :body=\"post.body_type\" type=\"body\" @update:data=\"handleBodyChange\" />\n                    <div class=\"u-attachment\" v-for=\"item in bodyAttachments\" :key=\"item.id\">\n                        <el-button\n                            class=\"u-main\"\n                            :type=\"item.file === bodyData.file ? 'warning' : ''\"\n                            icon=\"el-icon-star-off\"\n                            circle\n                            :plain=\"item.file === bodyData.file ? false : true\"\n                            @click=\"setMain(item)\"\n                            size=\"mini\"\n                            title=\"设为主数据\"\n                        />\n                        <span class=\"u-attachment-text\"\n                            >文件名: <b>{{ item.name }}</b></span\n                        >\n                        <span class=\"u-attachment-remark\"\n                            ><el-input v-model=\"item.describe\" placeholder=\"备注\" size=\"mini\"></el-input\n                        ></span>\n                        <el-button\n                            class=\"u-btn\"\n                            type=\"info\"\n                            icon=\"el-icon-delete\"\n                            circle\n                            plain\n                            @click=\"removeFile(item.id)\"\n                            size=\"mini\"\n                            title=\"移除\"\n                        />\n                    </div>\n                </el-form-item>\n                <!-- 客户端 -->\n                <el-form-item label=\"版本\">\n                    <el-radio-group v-model=\"post.client\">\n                        <el-radio label=\"std\">剑三</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n                <!-- <publish-client v-model=\"post.client\" :forbidAll=\"true\"></publish-client> -->\n                <!-- 原创 -->\n                <publish-original v-model=\"post.original\"></publish-original>\n                <el-form-item label=\"首发\" prop=\"is_fr\">\n                    <el-switch\n                        v-model=\"post.is_fr\"\n                        active-color=\"#13ce66\"\n                        :active-value=\"1\"\n                        :inactive-value=\"0\"\n                    ></el-switch>\n                </el-form-item>\n                <template v-if=\"!post.original\">\n                    <el-form-item label=\"原作者名称\" prop=\"author_name\">\n                        <el-input v-model=\"post.author_name\" placeholder=\"输入原作者名称\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"原作者链接\" prop=\"author_link\">\n                        <el-input v-model=\"post.author_link\" placeholder=\"输入原作者链接\"></el-input>\n                    </el-form-item>\n                </template>\n\n                <el-form-item label=\"是否收费\">\n                    <template #label>\n                        <span>是否收费</span>\n                        <el-tooltip content=\"仅签约作者可以发布收费作品\">\n                            <i class=\"el-icon-warning-outline\" style=\"margin-left: 2px;color: #c00;\"></i>\n                        </el-tooltip>\n                    </template>\n                    <el-radio-group v-model=\"post.price_type\" :disabled=\"!isSuperAuthor\">\n                        <el-radio label=\"0\">免费</el-radio>\n                        <!-- <el-radio label=\"1\">盒币</el-radio> -->\n                        <el-radio label=\"2\" v-if=\"cny_enable\">收费(金箔)</el-radio>\n                    </el-radio-group>\n                    <el-input-number\n                        class=\"u-price\"\n                        v-model=\"post.price_count\"\n                        v-if=\"post.price_type != '0'\"\n                        size=\"small\"\n                        :max=\"3000\"\n                        :min=\"0\"\n                    ></el-input-number>\n                    <div class=\"u-tip-box\" v-if=\"post.price_type != '0' && post.price_count > 0\">\n                        <div class=\"u-warning\">\n                            <el-checkbox v-model=\"promise\" disabled>\n                                我承诺该上传属于自己的原创作品或已得到原作者授权，且相关信息中不带有非授权的元素（比如贴图、字体）等，若违反法律规定我将承担全部责任，魔盒有权下架作品。\n                            </el-checkbox>\n                        </div>\n                    </div>\n                </el-form-item>\n\n                <el-form-item label=\"体型\">\n                    <el-radio-group v-model=\"post.body_type\">\n                        <el-radio :label=\"~~body_type\" v-for=\"(body_label, body_type) in bodyMap\" :key=\"body_type\">\n                            {{ body_label.label }}\n                        </el-radio>\n                    </el-radio-group>\n                </el-form-item>\n\n                <el-form-item label=\"描述\">\n                    <el-input v-model=\"post.remark\" placeholder=\"请填写描述\" type=\"textarea\" :rows=\"3\"></el-input>\n                </el-form-item>\n                <el-divider content-position=\"left\">扩展</el-divider>\n                <el-form-item label=\"图片列表\">\n                    <UploadAlbum v-model=\"post.images\"></UploadAlbum>\n                </el-form-item>\n                <publish-banner v-model=\"post.banner\" v-if=\"isSuperAuthor\"></publish-banner>\n            </div>\n\n            <!-- 按钮 -->\n            <div class=\"m-publish-buttons\">\n                <el-button type=\"primary\" @click=\"publish\" :disabled=\"processing\">发 &nbsp;&nbsp; 布</el-button>\n            </div>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport { getLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { getAttachmentOfPost, addBody, getBody, updateBody } from \"@/service/body\";\nimport publishHeader from \"@/components/publish_header.vue\";\nimport publishTitle from \"@/components/publish_title.vue\";\nimport publishOriginal from \"@/components/publish_original.vue\";\nimport faceAttachment from \"@/components/face_attachment.vue\";\nimport UploadAlbum from \"@jx3box/jx3box-editor/src/UploadAlbum.vue\";\nimport publishBanner from \"@/components/publish_banner.vue\";\nimport { bodyMap } from \"@jx3box/jx3box-facedat/assets/data/index.json\";\nimport User from \"@jx3box/jx3box-common/js/user.js\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport { getConfig } from \"@/service/cms\";\nexport default {\n    name: \"pvxbody\",\n    components: {\n        publishHeader,\n        publishTitle,\n        publishOriginal,\n        faceAttachment,\n        UploadAlbum,\n        publishBanner,\n    },\n    data() {\n        return {\n            post: {\n                // 用户信息\n                original: 1, // 是否原创\n                is_fr: 1, // 是否首发\n                author_name: \"\", // 原作者名称\n                author_link: \"\", // 原作者链接\n                // 作品信息\n                title: \"\", // 标题\n                remark: \"\", // 描述\n                banner: \"\", // 海报图\n                // 数据信息\n                client: \"std\", // 客户端\n                body_type: 1, // 体型\n                data: \"\", // 解析lua的json数据\n                file: \"\", // 关联的附件表uuid\n                // 作者扩展\n                cover: \"\", // 封面\n                images: [], // 图片列表\n                related: [], // 相关作品\n                // 价格\n                price_type: \"0\", // 价格类型 0:免费 1:盒币 2:金箔\n                price_count: 0, // 数量\n            },\n\n            loading: false,\n            processing: false,\n            postId: \"\", // 帖子id\n            postType: \"body\", // 帖子类型\n            bodyMap,\n            promise: true,\n            bodyAttachments: [],\n            bodyData: \"\",\n\n            isSuperAuthor: false,\n\n            cny_enable: 0,\n        };\n    },\n    computed: {\n        id() {\n            return this.$route.params.id;\n        },\n        client() {\n            return this.$store.state.client;\n        },\n    },\n    async mounted() {\n        this.init();\n\n        this.isSuperAuthor = await User.isSuperAuthor();\n    },\n    methods: {\n        init() {\n            if (this.id) {\n                this.getData();\n            } else {\n                this.post.client = this.client;\n            }\n\n            getConfig(\"cny_enable\").then((res) => {\n                this.cny_enable = Number(res.data.data.val);\n            });\n        },\n        getData() {\n            this.loading = true;\n            getBody(this.id).then((res) => {\n                this.post = res.data.data;\n                this.post.images = this.post.images.map((item) => {\n                    return {\n                        name: item,\n                        url: item,\n                    };\n                });\n                getAttachmentOfPost(this.id).then((res) => {\n                    let result = res.data;\n                    if (result && result.data) {\n                        this.bodyAttachments = result.data.map((item) => {\n                            return {\n                                id: item.id,\n                                file: item.uuid,\n                                name: item.name,\n                                describe: item.describe || \"\",\n                                data: item.data || \"\",\n                            };\n                        });\n\n                        this.bodyData = this.bodyAttachments.find((item) => {\n                            return item.file == this.post.file;\n                        });\n                    }\n                    this.loading = false;\n                });\n            });\n        },\n        handleBodyChange({ object = null, json = \"\", uuid = \"\", id = \"\", name = \"\" }) {\n            this.bodyAttachments.push({\n                id: id,\n                file: uuid,\n                name: name,\n                data: json,\n                body_type: object[\"nRoleType\"],\n                describe: \"\",\n            });\n            if (!this.bodyData) {\n                this.bodyData = {\n                    id: id,\n                    file: uuid,\n                    name: name,\n                    data: json,\n                    body_type: object[\"nRoleType\"],\n                };\n                this.post.body_type = object[\"nRoleType\"];\n            }\n        },\n        validator(data) {\n            // 必填字段 title file\n            const required = [\"title\", \"file\"];\n            const requiredMsg = [\"请填写标题\", \"请上传数据\"];\n            let message;\n            for (let i = 0; i < required.length; i++) {\n                if (!data[required[i]]) {\n                    message = requiredMsg[i];\n                    break;\n                }\n            }\n            if (message) {\n                this.$message.warning(message);\n                return false;\n            }\n            return true;\n        },\n        publish() {\n            this.processing = true;\n            const data = {\n                ...this.post,\n                //data: this.post.data,\n                images: this.post.images.map((item) => item.url || item),\n            };\n            let bodyAttachmentIds = this.bodyAttachments.map((item) => {\n                return {\n                    id: item.id,\n                    describe: item.describe,\n                    data: item.data,\n                };\n            });\n\n            if (this.bodyData) {\n                // 如果第一个附件有data，证明这个附件是新上传的，那么更新body使用这个data\n                // 如果第一个附件没有data，那么表示第一个附件是以前的，是通过init()获取的，那么更新body使用原来的data\n                if (this.bodyData.data) {\n                    data.data = JSON.stringify(this.bodyData.data);\n                }\n                data.body_type = this.bodyData.body_type || this.post.body_type;\n                data.file = this.bodyData.file;\n            }\n\n            data.attachments = bodyAttachmentIds;\n            if (!this.validator(data)) {\n                this.processing = false;\n                return;\n            }\n            if (this.id) {\n                updateBody(this.id, data)\n                    .then((res) => {\n                        this.$message.success(\"修改成功\");\n                        this.processing = false;\n                        // 跳转\n                        setTimeout(() => {\n                            location.href = `/body/${this.id}`;\n                        }, 500);\n                    })\n                    .finally(() => {\n                        this.processing = false;\n                    });\n            } else {\n                addBody(data).then((res) => {\n                    this.$message({\n                        message: \"发布成功\",\n                        type: \"success\",\n                    });\n                    this.processing = false;\n                    // 跳转\n                    setTimeout(() => {\n                        location.href = `/body/${res.data.data.id}`;\n                    }, 500);\n                });\n            }\n        },\n        // 移除文件标识\n        removeFile(id) {\n            let newQueue = [];\n            for (let i = 0; i < this.bodyAttachments.length; i++) {\n                if (this.bodyAttachments[i].id == id) {\n                    continue;\n                }\n                newQueue.push(this.bodyAttachments[i]);\n            }\n            this.bodyAttachments = newQueue;\n            if (this.bodyData.id == id) {\n                this.bodyData = \"\";\n            }\n        },\n        // 设置主要文件\n        setMain(item) {\n            this.bodyData = cloneDeep(item);\n            this.$notify({\n                title: \"设置成功\",\n                type: \"success\",\n                duration: 2000,\n            });\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/face.less\";\n</style>\n","import { render, staticRenderFns } from \"./body.vue?vue&type=template&id=10916e20\"\nimport script from \"./body.vue?vue&type=script&lang=js\"\nexport * from \"./body.vue?vue&type=script&lang=js\"\nimport style0 from \"./body.vue?vue&type=style&index=0&id=10916e20&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-publish-box m-publish-box-face\"},[_c('publish-header',{attrs:{\"name\":\"体型分享\"}}),_c('el-form',{attrs:{\"label-position\":\"left\",\"label-width\":\"90px\"}},[_c('publish-title',{model:{value:(_vm.post.title),callback:function ($$v) {_vm.$set(_vm.post, \"title\", $$v)},expression:\"post.title\"}}),_c('div',{staticClass:\"m-publish-info\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"信息\")]),_c('el-form-item',{attrs:{\"label\":\"数据\"}},[_c('face-attachment',{attrs:{\"body\":_vm.post.body_type,\"type\":\"body\"},on:{\"update:data\":_vm.handleBodyChange}}),_vm._l((_vm.bodyAttachments),function(item){return _c('div',{key:item.id,staticClass:\"u-attachment\"},[_c('el-button',{staticClass:\"u-main\",attrs:{\"type\":item.file === _vm.bodyData.file ? 'warning' : '',\"icon\":\"el-icon-star-off\",\"circle\":\"\",\"plain\":item.file === _vm.bodyData.file ? false : true,\"size\":\"mini\",\"title\":\"设为主数据\"},on:{\"click\":function($event){return _vm.setMain(item)}}}),_c('span',{staticClass:\"u-attachment-text\"},[_vm._v(\"文件名: \"),_c('b',[_vm._v(_vm._s(item.name))])]),_c('span',{staticClass:\"u-attachment-remark\"},[_c('el-input',{attrs:{\"placeholder\":\"备注\",\"size\":\"mini\"},model:{value:(item.describe),callback:function ($$v) {_vm.$set(item, \"describe\", $$v)},expression:\"item.describe\"}})],1),_c('el-button',{staticClass:\"u-btn\",attrs:{\"type\":\"info\",\"icon\":\"el-icon-delete\",\"circle\":\"\",\"plain\":\"\",\"size\":\"mini\",\"title\":\"移除\"},on:{\"click\":function($event){return _vm.removeFile(item.id)}}})],1)})],2),_c('el-form-item',{attrs:{\"label\":\"版本\"}},[_c('el-radio-group',{model:{value:(_vm.post.client),callback:function ($$v) {_vm.$set(_vm.post, \"client\", $$v)},expression:\"post.client\"}},[_c('el-radio',{attrs:{\"label\":\"std\"}},[_vm._v(\"剑三\")])],1)],1),_c('publish-original',{model:{value:(_vm.post.original),callback:function ($$v) {_vm.$set(_vm.post, \"original\", $$v)},expression:\"post.original\"}}),_c('el-form-item',{attrs:{\"label\":\"首发\",\"prop\":\"is_fr\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"active-value\":1,\"inactive-value\":0},model:{value:(_vm.post.is_fr),callback:function ($$v) {_vm.$set(_vm.post, \"is_fr\", $$v)},expression:\"post.is_fr\"}})],1),(!_vm.post.original)?[_c('el-form-item',{attrs:{\"label\":\"原作者名称\",\"prop\":\"author_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入原作者名称\"},model:{value:(_vm.post.author_name),callback:function ($$v) {_vm.$set(_vm.post, \"author_name\", $$v)},expression:\"post.author_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"原作者链接\",\"prop\":\"author_link\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入原作者链接\"},model:{value:(_vm.post.author_link),callback:function ($$v) {_vm.$set(_vm.post, \"author_link\", $$v)},expression:\"post.author_link\"}})],1)]:_vm._e(),_c('el-form-item',{attrs:{\"label\":\"是否收费\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',[_vm._v(\"是否收费\")]),_c('el-tooltip',{attrs:{\"content\":\"仅签约作者可以发布收费作品\"}},[_c('i',{staticClass:\"el-icon-warning-outline\",staticStyle:{\"margin-left\":\"2px\",\"color\":\"#c00\"}})])]},proxy:true}])},[_c('el-radio-group',{attrs:{\"disabled\":!_vm.isSuperAuthor},model:{value:(_vm.post.price_type),callback:function ($$v) {_vm.$set(_vm.post, \"price_type\", $$v)},expression:\"post.price_type\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"免费\")]),(_vm.cny_enable)?_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"收费(金箔)\")]):_vm._e()],1),(_vm.post.price_type != '0')?_c('el-input-number',{staticClass:\"u-price\",attrs:{\"size\":\"small\",\"max\":3000,\"min\":0},model:{value:(_vm.post.price_count),callback:function ($$v) {_vm.$set(_vm.post, \"price_count\", $$v)},expression:\"post.price_count\"}}):_vm._e(),(_vm.post.price_type != '0' && _vm.post.price_count > 0)?_c('div',{staticClass:\"u-tip-box\"},[_c('div',{staticClass:\"u-warning\"},[_c('el-checkbox',{attrs:{\"disabled\":\"\"},model:{value:(_vm.promise),callback:function ($$v) {_vm.promise=$$v},expression:\"promise\"}},[_vm._v(\" 我承诺该上传属于自己的原创作品或已得到原作者授权，且相关信息中不带有非授权的元素（比如贴图、字体）等，若违反法律规定我将承担全部责任，魔盒有权下架作品。 \")])],1)]):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"体型\"}},[_c('el-radio-group',{model:{value:(_vm.post.body_type),callback:function ($$v) {_vm.$set(_vm.post, \"body_type\", $$v)},expression:\"post.body_type\"}},_vm._l((_vm.bodyMap),function(body_label,body_type){return _c('el-radio',{key:body_type,attrs:{\"label\":~~body_type}},[_vm._v(\" \"+_vm._s(body_label.label)+\" \")])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"placeholder\":\"请填写描述\",\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.post.remark),callback:function ($$v) {_vm.$set(_vm.post, \"remark\", $$v)},expression:\"post.remark\"}})],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"扩展\")]),_c('el-form-item',{attrs:{\"label\":\"图片列表\"}},[_c('UploadAlbum',{model:{value:(_vm.post.images),callback:function ($$v) {_vm.$set(_vm.post, \"images\", $$v)},expression:\"post.images\"}})],1),(_vm.isSuperAuthor)?_c('publish-banner',{model:{value:(_vm.post.banner),callback:function ($$v) {_vm.$set(_vm.post, \"banner\", $$v)},expression:\"post.banner\"}}):_vm._e()],2),_c('div',{staticClass:\"m-publish-buttons\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.processing},on:{\"click\":_vm.publish}},[_vm._v(\"发    布\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./body.vue?vue&type=style&index=0&id=10916e20&prod&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_header.vue?vue&type=style&index=0&id=36319e52&prod&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./face_attachment.vue?vue&type=style&index=0&id=c96940cc&prod&lang=less&scoped=true\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./face_attachment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./face_attachment.vue?vue&type=script&lang=js\"","<template>\n    <div class=\"m-paid_attachment\">\n        <input class=\"u-data-input\" type=\"file\" id=\"face_file\" @change=\"processFile\" accept=\".jx3dat, .dat, .ini\" />\n        <el-button type=\"primary\" @click=\"selectData\" icon=\"el-icon-upload2\">{{ `上传${name}数据` }}</el-button>\n        <span class=\"u-data-ready\" v-show=\"data.uuid\">\n            <i class=\"el-icon-success\"></i>\n            已上传\n        </span>\n    </div>\n</template>\n\n<script>\nimport { uploadFaceFile } from \"@/service/face.js\";\nimport { uploadBodyFile } from \"@/service/body.js\";\nimport { load } from \"@jx3box/jx3box-facedat/src/DataRouter.js\";\nexport default {\n    name: \"paid_attachment\",\n    props: {\n        body: {\n            type: Number,\n            default: 2,\n        },\n        describe: {\n            type: String,\n            default: \"\",\n        },\n        type: {\n            type: String,\n            default: \"face\",\n        },\n    },\n    data() {\n        return {\n            data: {\n                id: \"\",\n                uuid: \"\",\n                object: \"\",\n                json: \"\",\n                name: \"\",\n            },\n        };\n    },\n    computed: {\n        name() {\n            const data = {\n                face: \"脸型\",\n                body: \"体型\",\n            };\n            return data[this.type];\n        },\n    },\n    methods: {\n        selectData() {\n            let fileInput = document.getElementById(\"face_file\");\n            fileInput.dispatchEvent(new MouseEvent(\"click\"));\n        },\n        uploadFile(formdata) {\n            const data = {\n                face: uploadFaceFile,\n                body: uploadBodyFile,\n            };\n            return data[this.type](formdata);\n        },\n        uploadData(file) {\n            // 上传源文件\n            let formdata = new FormData();\n            formdata.append(\"jx3dat\", file);\n            formdata.append(\"body\", this.body);\n            formdata.append(\"describe\", this.describe);\n            formdata.append(\"data\", this.data.json);\n            this.uploadFile(formdata).then((res) => {\n                this.data.uuid = res.data.data.uuid;\n                this.data.id = res.data.data.id;\n                this.data.name = res.data.data.name;\n                this.$message({\n                    message: \"数据上传成功\",\n                    type: \"success\",\n                });\n                this.$emit(\"update:data\", this.data);\n            });\n        },\n        processFile(e) {\n            let file = e.target.files[0];\n            // 大于64kb\n            if (file && file.size > 65536) {\n                this.$message({\n                    message: \"文件过大，限 64KB 以内\",\n                    type: \"error\",\n                });\n                return;\n            }\n            // 解析并上传数据\n\n            this.parseAndUpload(file);\n            e.target.value = \"\";\n        },\n        parseAndUpload(file) {\n            if (!FileReader) return;\n            if (!file) return;\n            const vm = this;\n\n            // 读入 File 转 ArrayBuffer 进行读取\n            let fr = new FileReader();\n            fr.onload = function (e) {\n                console.log(\"读取成功...开始执行分析...\");\n                let json = \"\";\n                let object = \"\";\n                try {\n                    const result = load(e.target.result);\n                    if (!result)\n                        return vm.$notify.error({\n                            title: \"错误\",\n                            message: \"数据类型解析失败\",\n                        });\n                    if (vm.type === \"body\" && result.type.startsWith(\"face\")) {\n                        return vm.$notify.error({\n                            title: \"错误\",\n                            message: \"请导入体型数据\",\n                        });\n                    }\n                    if (vm.type === \"face\" && result.type === \"body\") {\n                        return vm.$notify.error({\n                            title: \"错误\",\n                            message: \"请导入脸型数据\",\n                        });\n                    }\n                    object = result.data;\n                    console.log(object);\n                    if (object) {\n                        json = JSON.stringify(object);\n                    }\n                } catch (ex) {\n                    console.log(ex);\n                    vm.$notify.error({\n                        title: \"错误\",\n                        message: \"无法读取数据\",\n                    });\n                    return;\n                }\n\n                // 解析成功开始上传\n                if (object && json) {\n                    setTimeout(\n                        () =>\n                            vm.$notify({\n                                title: \"成功\",\n                                message: \"数据读取成功，开始上传\",\n                                type: \"success\",\n                            }),\n                        0\n                    );\n                    vm.data.json = json;\n                    vm.uploadData(file);\n                    vm.data.object = object;\n                }\n            };\n            fr.onerror = function (e) {\n                vm.$notify.error({\n                    title: \"错误\",\n                    message: \"文件读取异常\",\n                });\n            };\n            fr.readAsArrayBuffer(file);\n        },\n        clearData() {\n            this.data = {\n                id: \"\",\n                uuid: \"\",\n                object: null,\n                json: \"\",\n                name: \"\",\n            };\n            this.$emit(\"update:data\", this.data);\n        },\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.m-paid_attachment {\n    .u-data-input {\n        display: none;\n    }\n\n    .u-data-ready {\n        margin-left: 10px;\n        i {\n            color: #67c23a;\n        }\n    }\n}\n</style>\n","import { render, staticRenderFns } from \"./face_attachment.vue?vue&type=template&id=c96940cc&scoped=true\"\nimport script from \"./face_attachment.vue?vue&type=script&lang=js\"\nexport * from \"./face_attachment.vue?vue&type=script&lang=js\"\nimport style0 from \"./face_attachment.vue?vue&type=style&index=0&id=c96940cc&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c96940cc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-paid_attachment\"},[_c('input',{staticClass:\"u-data-input\",attrs:{\"type\":\"file\",\"id\":\"face_file\",\"accept\":\".jx3dat, .dat, .ini\"},on:{\"change\":_vm.processFile}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-upload2\"},on:{\"click\":_vm.selectData}},[_vm._v(_vm._s(`上传${_vm.name}数据`))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.uuid),expression:\"data.uuid\"}],staticClass:\"u-data-ready\"},[_c('i',{staticClass:\"el-icon-success\"}),_vm._v(\" 已上传 \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-publish-title\"},[(!_vm.hideDiv)?_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"标题\")]):_vm._e(),_c('el-input',{attrs:{\"maxlength\":50,\"minlength\":2,\"show-word-limit\":\"\",\"required\":\"\",\"placeholder\":_vm.placeholder || '请填写标题'},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_title.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_title.vue?vue&type=script&lang=js\"","<template>\n    <div class=\"m-publish-title\">\n        <el-divider content-position=\"left\" v-if=\"!hideDiv\">标题</el-divider>\n        <el-input\n            v-model=\"title\"\n            :maxlength=\"50\"\n            :minlength=\"2\"\n            show-word-limit\n            required\n            :placeholder=\"placeholder || '请填写标题'\"\n        ></el-input>\n        <slot></slot>\n    </div>\n</template>\n<script>\nexport default {\n    name: \"publish_title\",\n    props: [\"data\",\"hideDiv\",\"placeholder\"],\n    data: function () {\n        return {\n            title: this.data,\n        };\n    },\n    model: {\n        prop: \"data\",   //向上同步数据\n        event: \"update\",\n    },\n    watch: {\n        data: function(newval) {\n            this.title = newval;\n        },\n        title: {\n            deep: true,\n            handler: function(newval) {\n                this.$emit(\"update\", newval);\n            },\n        },\n    },\n    computed: {},\n    methods: {},\n    mounted: function () {},\n    components: {},\n};\n</script>\n","import { render, staticRenderFns } from \"./publish_title.vue?vue&type=template&id=d0fa58d6\"\nimport script from \"./publish_title.vue?vue&type=script&lang=js\"\nexport * from \"./publish_title.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_header.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_header.vue?vue&type=script&lang=js\"","<template>\n    <div class=\"m-publish-header\">\n        <el-page-header @back=\"goBack\" :content=\"name\"></el-page-header>\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"publish_header\",\n    props: [\"name\"],\n    data: function() {\n        return {\n        };\n    },\n    computed: {},\n    methods: {\n        goBack: function() {\n            if(window.history.length){\n                this.$router.go(-1);\n            }else{\n                this.$router.push('/')\n            }\n        },\n    },\n    mounted: function() {},\n    components: {\n    },\n};\n</script>\n\n<style lang=\"less\">\n    .m-publish-header{\n        .pr;\n    }\n    \n</style>","import { render, staticRenderFns } from \"./publish_header.vue?vue&type=template&id=36319e52\"\nimport script from \"./publish_header.vue?vue&type=script&lang=js\"\nexport * from \"./publish_header.vue?vue&type=script&lang=js\"\nimport style0 from \"./publish_header.vue?vue&type=style&index=0&id=36319e52&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-publish-header\"},[_c('el-page-header',{attrs:{\"content\":_vm.name},on:{\"back\":_vm.goBack}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { $next } from \"@jx3box/jx3box-common/js/https\";\n\n\nexport function delFace(id) {\n    return $next().delete(`/api/face/${id}`);\n}\n\n/**\n * 上传付费附件\n * @param {*} data\n */\nexport function uploadFaceFile(data) {\n    return $next().post(\"/api/face/file-upload\", data);\n}\n\n/**\n * 新增捏脸\n * @params {Object} data\n */\nexport function addFace(data) {\n    return $next().post(\"/api/face\", data);\n}\n\n/**\n * 获取捏脸数据\n * @params {*} id\n */\nexport function getFace(id) {\n    return $next().get(`/api/face/${id}`);\n}\n\n/**\n * 更新捏脸数据\n * @params {*} id\n * @params {*} data\n */\nexport function updateFace(id, data) {\n    return $next().put(`/api/face/${id}`, data);\n}\n\n/**\n * 移除关联作品\n * @param {*} id 附件id\n * @param {*} postType 作品类型\n * @param {*} postId 作品id\n */\nexport function attachmentRemoveRelatePost(id, postType, postId) {\n    return $next().delete(`/api/charge_attachment/${postType}/${postId}/${id}`);\n}\n\n/**\n * 获取捏脸列表\n * @param {*} params\n */\nexport function getFaceList(params) {\n    return $next().get(\"/api/face/my-list\", { params });\n}\n\n/**\n * 获取所有捏脸列表\n * @param {*} params\n */\nexport function getAllFaceList(params) {\n    return $next().get(\"/api/face\", { params });\n}\n\n/**\n * 上架一个捏脸数据\n * @param {*} id\n */\nexport function faceOnline(id) {\n    return $next().put(`/api/face/${id}/online`);\n}\n\n/**\n * 下架一个捏脸数据\n * @param {*} id\n */\nexport function faceOffline(id) {\n    return $next().put(`/api/face/${id}/offline`);\n}\n\n/**\n * 作品关联的附件\n * @param {*} postType 作品类型\n * @param {*} postId 作品id\n */\nexport function getAttachmentOfPost(postId) {\n    return $next().get(`/api/charge_attachment/face/${postId}/edit`);\n}\n"],"sourceRoot":""}
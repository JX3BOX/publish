(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d80b045"],{"0082":function(t,e,i){},"04a4":function(t,e,i){"use strict";i("0082")},"0711":function(t,e,i){"use strict";var s={name:"",props:["data"],components:{},data:function(){return{visible:"0"}},model:{prop:"data",event:"update"},watch:{data:function(t){this.visible=t},visible:{deep:!0,handler:function(t){this.$emit("update",t)}}},computed:{},methods:{},filters:{},created:function(){},mounted:function(){}},n=(i("ba02"),i("2877")),a=Object(n.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-visible"},[e("el-form-item",{attrs:{label:"阅读权限"}},[e("el-radio-group",{model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("el-radio",{attrs:{label:"0"}},[t._v("公开")]),e("el-radio",{attrs:{label:"1"}},[t._v("仅自己可见")]),e("el-radio",{attrs:{label:"2"}},[t._v("仅亲友可见")]),e("el-radio",{attrs:{label:"3",disabled:""}},[t._v("密码可见")]),e("el-radio",{attrs:{label:"4",disabled:""}},[t._v("付费可见")]),e("el-radio",{attrs:{label:"5",disabled:""}},[t._v("粉丝可见")])],1)],1)],1)}),[],!1,null,"509226a0",null);e.a=a.exports},1:function(t,e){},"11a5":function(t,e,i){"use strict";i("a4c3")},1283:function(t,e,i){"use strict";i("d8ed")},1558:function(t,e,i){"use strict";i.r(e);var s=i("2909"),n=(i("d3b7"),i("14d9"),i("2ef0")),a=i.n(n),l=i("46d4"),o=i("c9d2"),c=i("ef77"),r=i("d0a1"),u=i("1fb2"),p=i("505f"),d=i("d0b4"),f=i("d95e"),m=(i("b0c0"),i("a434"),i("159b"),i("25f0"),i("d81d"),i("bd13")),h=i("65c2"),v=i("7c7e"),b=(i("ac1f"),i("841c"),i("caad"),i("2532"),i("99af"),i("5319"),i("85e4")),k=i("41cb");function g(t,e){var i=isNaN(t)?"name":"id";return Object(k.d)().get("/skill/".concat(i,"/").concat(t),{params:e}).then((function(t){return t.data})).catch((function(t){console.log(t)}))}var _=[function(){var t=this._self._c;return t("div",{staticClass:"u-title"},[t("span",{staticClass:"u-title-name"},[this._v("奇穴技能")]),t("img",{staticClass:"u-title-img",attrs:{src:i("590f"),alt:""}})])},function(){var t=this._self._c;return t("div",{staticClass:"u-title"},[t("span",{staticClass:"u-title-name"},[this._v("江湖轻功")]),t("img",{staticClass:"u-title-img",attrs:{src:i("590f"),alt:""}})])}],C=i("c7eb"),x=i("1da1"),y=i("3835"),I=(i("07ac"),i("a15b"),i("4fadc"),i("7db0"),i("4de4"),k.g.create({baseURL:h.__dataPath}));function D(){return O.apply(this,arguments)}function O(){return(O=Object(x.a)(Object(C.a)().mark((function t(){var e;return Object(C.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.get("talent/talents.json");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var A=i("d5fc"),w=i("920f"),j=i("9314"),S={name:"pvp_martial",props:{subtype:{type:String,default:"通用"}},emits:[],data:function(){return{talents:[],data:[],loading:!1}},computed:{mountId:function(){var t;return null===(t=l[this.subtype])||void 0===t?void 0:t.id},client:function(){return this.$store.state.client},skillIds:function(){var t,e;return Object(n.flattenDeep)(Object.values(null===(t=this.kungfumap)||void 0===t||null===(e=t[this.mountId])||void 0===e?void 0:e.skills))},ids:function(){return[].concat(Object(s.a)(this.skillIds),Object(s.a)(this.talentSkillIds),Object(s.a)(this.commonIds)).join(",")},kungfumap:function(){return"origin"==this.client?w:A},params:function(){return{ids:this.ids,client:this.client}},talentSkillIds:function(){var t;return Object(n.flattenDeep)(this.mountId&&(null===(t=this.talents)||void 0===t?void 0:t[this.mountId]))||[]},commonIds:function(){return[9007,9003,9002,9005,9006,9004]},kungfusSkills:function(){var t=this,e={};return Object.entries(this.kungfumap[this.mountId].skills).forEach((function(i){var s=Object(y.a)(i,2),n=s[0],a=s[1];e[n]=a.map((function(e){return t.data.find((function(t){return t.SkillID==e}))}))})),e},kungfus:function(){return this.kungfumap[this.mountId].kungfus},talentSkills:function(){var t=this;return this.talentSkillIds.map((function(e){return t.data.find((function(t){return t.SkillID==e}))})).filter((function(t){return t&&0==t.IsPassiveSkill}))},commonSkills:function(){var t=this;return this.commonIds.map((function(e){return t.data.find((function(t){return t.SkillID==e}))})).filter(Boolean)}},mounted:function(){var t=this;return Object(x.a)(Object(C.a)().mark((function e(){return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t.talents=e.sent,e.next=5,t.loadSkills();case 5:case"end":return e.stop()}}),e)})))()},watch:{mountId:{handler:function(){this.loadSkills()}}},methods:{iconLink:b.iconLink,loadSkills:function(){var t=this;return Object(x.a)(Object(C.a)().mark((function e(){return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.abrupt("return",(i=t.params,Object(k.d)().get("/skills",{params:i})).then((function(e){t.data=Object(n.uniqBy)(e.data,"Name")})).finally((function(){t.loading=!1})));case 2:case"end":return e.stop()}var i}),e)})))()},showKungfuName:function(t){return j[t]},selectSkill:function(t){this.$emit("selectSkill",t)},formatSkill:function(t){return t.filter((function(t){return null==t?void 0:t.SkillID}))}}},N=i("2877"),B={name:"skillDialog",components:{"pvp-martial":Object(N.a)(S,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-pvp-martial"},[t._l(t.kungfus,(function(s){return e("div",{key:s,staticClass:"m-martial-skill"},[e("div",{staticClass:"u-title"},[e("span",{staticClass:"u-title-name"},[t._v(t._s(t.showKungfuName(s)))]),e("img",{staticClass:"u-title-img",attrs:{src:i("590f"),alt:""}})]),t.kungfusSkills[s]?e("div",{staticClass:"m-skills"},t._l(t.formatSkill(t.kungfusSkills[s]),(function(i,s){return e("div",{key:s,staticClass:"m-skill",on:{click:function(e){return t.selectSkill(i)}}},[i&&i.IconID?e("div",{staticClass:"u-skill"},[e("img",{staticClass:"u-skill-icon",attrs:{src:t.iconLink(i.IconID),alt:i.IconID}}),e("span",{staticClass:"u-name",attrs:{title:i.Name}},[t._v(t._s(i.Name))])]):t._e()])})),0):t._e()])})),t.talentSkills&&t.talentSkills.length?e("div",{staticClass:"m-martial-skill"},[t._m(0),e("div",{staticClass:"m-skills"},t._l(t.talentSkills,(function(i,s){return e("div",{key:s,staticClass:"m-skill",on:{click:function(e){return t.selectSkill(i)}}},[i&&i.IconID?e("div",{staticClass:"u-skill"},[e("img",{staticClass:"u-skill-icon",attrs:{src:t.iconLink(i.IconID),alt:i.IconID}}),e("span",{staticClass:"u-name",attrs:{title:i.Name}},[t._v(t._s(i.Name))])]):t._e()])})),0)]):t._e(),e("div",{staticClass:"m-martial-skill"},[t._m(1),e("div",{staticClass:"m-skills"},t._l(t.commonSkills,(function(i,s){return e("div",{key:s,staticClass:"m-skill",on:{click:function(e){return t.selectSkill(i)}}},[i&&i.IconID?e("div",{staticClass:"u-skill"},[e("img",{staticClass:"u-skill-icon",attrs:{src:t.iconLink(i.IconID),alt:i.IconID}}),e("span",{staticClass:"u-name",attrs:{title:i.Name}},[t._v(t._s(i.Name))])]):t._e()])})),0)])],2)}),_,!1,null,null,null).exports},props:{modelValue:{type:Boolean,default:!1},subtype:{type:String,default:"通用"}},model:{prop:"modelValue",event:"update:modelValue"},data:function(){return{client:location.href.includes("origin")?"origin":"std",skill:[],done:!1,per:10,page:1,total:1,pages:1,query:"",activeName:"special",selected:[]}},computed:{hasNextPage:function(){return this.total>1&&this.page<this.pages},multipage:function(){return this.done&&this.pages>1},isBlank:function(){return!this.query&&!this.skill.length},buttonTXT:function(){return"确 定"}},methods:{getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.query){this.loading=!0,this.per=10,this.done=!1;var s=this.query,n={strict:~~this.strict,per:this.per,page:e,client:this.client};g(s,n).then((function(e){i||(t.skill=[]);var s=t.transformData(e.list||[]);t.pages=e.pages,t.total=e.total,t.skill=t.skill.concat(s)})).finally((function(){t.done=!0,t.loading=!1}))}},selectSkill:function(t){this.selected.push(t)},removeSelected:function(t){this.selected.splice(t,1)},submit:function(){this.$emit("submit",this.selected),this.close(),this.selected=[]},close:function(){this.$emit("update:modelValue",!1)},iconURL:function(t){return Object(b.iconLink)(t,this.client)},filterRaw:function(t){return t&&t.replace(/\\n/g,"\n")},search:function(){this.page=1,this.getData()},appendPage:function(){this.getData(++this.page,!0)},changePage:function(t){this.getData(t)},transformData:function(t){return t.forEach((function(t){t.isSelected=!1})),t}}},z=Object(N.a)(B,(function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"c-large-dialog",attrs:{visible:t.modelValue,title:"技能库","append-to-body":"","custom-class":"m-skill-dialog"},on:{close:t.close}},[e("el-tabs",{staticClass:"m-skill-tabs",attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"门派武学",name:"special"},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"u-tab-label"},[e("i",{staticClass:"el-icon-s-order"}),e("b",[t._v("门派武学")])])]},proxy:!0}])}),e("el-tab-pane",{attrs:{label:"全部技能",name:"all"},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"u-tab-label"},[e("i",{staticClass:"el-icon-menu"}),e("b",[t._v("全部技能")])])]},proxy:!0}])})],1),e("div",{staticClass:"m-select-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"all"===t.activeName,expression:"activeName === 'all'"}]},[e("div",{staticClass:"m-database-search"},[e("el-radio-group",{staticClass:"u-client",on:{change:t.search},model:{value:t.client,callback:function(e){t.client=e},expression:"client"}},[e("el-radio-button",{attrs:{label:"std"}},[t._v("重制")]),e("el-radio-button",{attrs:{label:"origin"}},[t._v("缘起")])],1),e("el-input",{staticClass:"u-input",attrs:{placeholder:"请输入 ID 或 名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[e("template",{slot:"prepend"},[t._v("ID ／名称")])],2)],1),t.total&&t.done?e("div",{staticClass:"m-resource-count"},[e("i",{staticClass:"el-icon-s-data"}),t._v(" 共找到 "),e("b",[t._v(t._s(t.total))]),t._v(" 条记录 ")]):t._e(),e("ul",{staticClass:"m-resource-list"},t._l(t.skill,(function(i,s){return e("li",{key:s,ref:"skill",refInFor:!0,staticClass:"u-item",on:{click:function(e){return t.selectSkill(i,s)}}},[e("span",{staticClass:"u-id"},[t._v("ID:"+t._s(i.SkillID))]),e("img",{staticClass:"u-pic",attrs:{title:"IconID:"+i.IconID,src:t.iconURL(i.IconID)}}),e("span",{staticClass:"u-primary"},[e("span",{staticClass:"u-name"},[t._v(" "+t._s(i.Name)+" "),i.SkillName?e("em",[t._v("("+t._s(i.SkillName)+")")]):t._e()]),e("span",{staticClass:"u-content"},[t._v(" "+t._s(t.filterRaw(i.Desc))+" ")])])])})),0),!t.skill.length&&t.done?e("el-alert",{attrs:{title:"没有找到相关条目",type:"info","show-icon":""}}):t._e(),t.multipage?[e("el-button",{staticClass:"m-archive-more",class:{show:t.hasNextPage},attrs:{type:"primary",icon:"el-icon-arrow-down"},on:{click:t.appendPage}},[t._v("加载更多")]),e("el-pagination",{staticClass:"m-archive-pages",attrs:{background:"",layout:"total, prev, pager, next,jumper","hide-on-single-page":!0,"page-size":t.per,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"current-change":t.changePage}})]:t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isBlank,expression:"isBlank"}],staticClass:"m-database-tip"},[t._v("❤ 请输入搜索条件查询")])],2),e("pvp-martial",{directives:[{name:"show",rawName:"v-show",value:"special"===t.activeName,expression:"activeName === 'special'"}],attrs:{subtype:t.subtype},on:{selectSkill:t.selectSkill}})],1),e("el-divider",[t._v("已选技能")]),e("div",{staticClass:"m-selected-skills"},[e("ul",{staticClass:"m-skills-list"},t._l(t.selected,(function(i,s){return e("li",{key:s,staticClass:"m-skill"},[i&&i.IconID?e("div",{staticClass:"u-skill"},[e("img",{staticClass:"u-skill-icon",attrs:{src:t.iconURL(i.IconID),alt:i.IconID}}),e("span",{staticClass:"u-name",attrs:{title:i.Name}},[t._v(t._s(i.Name))])]):t._e(),e("div",{staticClass:"u-mask",on:{click:function(e){return t.removeSelected(s)}}},[e("i",{staticClass:"el-icon-delete"})])])})),0)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.close}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(" "+t._s(t.buttonTXT)+" ")])],1)],1)}),[],!1,null,null,null).exports,$=i("aa47"),q={talent:"",talent_desc:"",content:"",combo:[{name:"",sq:[],desc:""}]},T={name:"publishPvp",props:["data","client","subtype"],components:{SkillDialog:z},data:function(){return{maxlength:20,pvpData:this.data,activeIndex:"1",nickname:o.a.getInfo().name,zhNum:["一","二","三","四","五","六","七","八","九","十"],showSkillDialog:!1}},model:{prop:"data",event:"update"},watch:{data:{immediate:!0,deep:!0,handler:function(t){!t||Object(v.a)(t)?this.pvpData=Object(n.cloneDeep)(q):this.pvpData=t}},pvpData:{deep:!0,handler:function(t){this.$emit("update",t)}},activeIndex:{immediate:!0,handler:function(){var t=this;this.$nextTick((function(){t.initSkillSort()}))}}},methods:{addCombo:function(){if(this.pvpData.data.length>7)this.$alert("已经达到添加上限","消息",{confirmButtonText:"确定"});else{var t=this.pvpData.data.length+1+"";this.pvpData.data.push({name:"",sq:[],desc:""}),this.activeIndex=t}},removeCombo:function(t){var e=this;this.pvpData.data.length<2?this.$alert("必须保留1个宏","消息",{confirmButtonText:"确定"}):this.$alert("确定删除这个连招吗，删除后无法找回","消息",{confirmButtonText:"确定",callback:function(i){if("confirm"==i){var s=~~t-1;e.pvpData.data.splice(s,1),e.activeIndex="1"}}})},check:function(){this.pvpData.data.forEach((function(t,e){t.name||(t.name="未标题-"+e)}))},checkDataName:function(t){var e=Object(m.a)(t.name).removeSpace().kill().toString();e?this.$set(t,"name",e):this.$notify.error({title:"错误",message:"宏名称不允许包含特殊字符,不能为空"})},checkTalent:function(t){try{JSON.parse(t)}catch(t){this.$notify.error({title:"错误",message:"奇穴编码格式错误"})}},addSkill:function(){this.showSkillDialog=!0},removeSkill:function(t){this.pvpData.data[this.activeIndex-1].sq.splice(t,1)},onSubmit:function(t){var e;this.showSkillDialog=!1;var i=t.map((function(t){return Object(n.pick)(t,["SkillID","Name","IconID"])}));null===(e=this.pvpData.data[this.activeIndex-1].sq)||void 0===e||e.push.apply(e,Object(s.a)(i))},iconLink:b.iconLink,initSkillSort:function(){var t=document.querySelector(".tabs-sort .tab-content".concat(this.activeIndex," .u-skills"));if(t){var e=this;$.a.create(t,{animation:200,onEnd:function(t){var i=t.newIndex,s=t.oldIndex,a=Object(n.cloneDeep)(e.pvpData.data[e.activeIndex-1].sq),l=Object(n.cloneDeep)(a.splice(s,1)[0]);a.splice(i,0,l),e.pvpData.data[e.activeIndex-1].sq=[],e.$nextTick((function(){e.$set(e.pvpData.data[e.activeIndex-1],"sq",a)}))}})}},onContextmenu:function(t,e){var i=this;return this.$contextmenu({items:[{label:null!=e&&e.WithoutGcd?"取消无GCD技能":"设置为无GCD技能",onClick:function(){i.$set(e,"WithoutGcd",!e.WithoutGcd)},icon:null!=e&&e.WithoutGcd?"el-icon-close":"el-icon-check"}],event:t,customClass:"custom-class",zIndex:3,minWidth:230}),!1}},mounted:function(){var t=document.querySelector(".tabs-sort .el-tabs__nav"),e=this;$.a.create(t,{animation:200,filter:".el-icon-close",onEnd:function(t){var i=t.newIndex,s=t.oldIndex,a=Object(n.cloneDeep)(e.pvpData.data),l=Object(n.cloneDeep)(a.splice(s,1)[0]);a.splice(i,0,l),e.pvpData.data=[],e.$nextTick((function(){e.$set(e.pvpData,"data",a)}))}})}},P=Object(N.a)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-pvp m-publish-macro"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("技巧分享")]),e("div",{staticClass:"m-macro-box"},[e("div",{staticClass:"m-macro-talent m-macro-item"},[e("h5",{staticClass:"u-title"},[t._v("技巧概述")]),e("el-input",{attrs:{placeholder:"输入技巧概述",type:"textarea",rows:5},model:{value:t.pvpData.content,callback:function(e){t.$set(t.pvpData,"content",e)},expression:"pvpData.content"}})],1),"origin"!=t.client?e("div",{staticClass:"m-macro-talent m-macro-item"},[e("h5",{staticClass:"u-title"},[t._v("奇穴方案")]),e("el-input",{attrs:{placeholder:"奇穴方案编码"},on:{change:function(e){return t.checkTalent(t.pvpData.talent)}},model:{value:t.pvpData.talent,callback:function(e){t.$set(t.pvpData,"talent",e)},expression:"pvpData.talent"}},[e("template",{slot:"prepend"},[e("a",{staticClass:"u-get",attrs:{target:"_blank",href:"/macro/talent"}},[e("i",{staticClass:"el-icon-warning"}),t._v(" 获取编码 ")])])],2)],1):t._e(),"origin"===t.client?e("div",{staticClass:"m-macro-talent m-macro-item"},[e("h5",{staticClass:"u-title"},[t._v("镇派方案")]),t._m(0),e("el-input",{attrs:{placeholder:"镇派方案编码"},on:{change:function(e){return t.checkTalent(t.pvpData.talent)}},model:{value:t.pvpData.talent,callback:function(e){t.$set(t.pvpData,"talent",e)},expression:"pvpData.talent"}},[e("template",{slot:"prepend"},[e("a",{staticClass:"u-get",attrs:{target:"_blank",href:"/macro/talent2"}},[e("i",{staticClass:"el-icon-warning"}),t._v(" 获取编码 ")])])],2)],1):t._e(),e("div",{staticClass:"m-macro-talent m-macro-item"},[e("h5",{staticClass:"u-title"},[t._v(t._s("std"===t.client?"奇穴":"镇派")+"讲解")]),e("el-input",{attrs:{placeholder:"输入内容（选填）",type:"textarea",rows:4},model:{value:t.pvpData.talent_desc,callback:function(e){t.$set(t.pvpData,"talent_desc",e)},expression:"pvpData.talent_desc"}})],1)]),e("div",{staticClass:"m-macro-box"},[e("div",{staticClass:"m-macro-header"},[e("el-button",{staticClass:"m-macro-addbutton",attrs:{icon:"el-icon-circle-plus-outline",type:"primary"},on:{click:t.addCombo}},[t._v("添加连招")])],1),e("el-tabs",{staticClass:"tabs-sort",attrs:{type:"card",closable:""},on:{"tab-remove":t.removeCombo},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.pvpData.data,(function(i,s){return e("el-tab-pane",{key:s,class:"tab-content".concat(s+1),attrs:{name:s+1+""}},[e("span",{staticClass:"u-tab-box",attrs:{slot:"label"},slot:"label"},[e("span",{staticClass:"u-tab-name",attrs:{title:i.name}},[t._v(t._s("连招"+t.zhNum[s]+" - "+i.name))])]),e("el-form-item",{staticClass:"m-macro-desc",attrs:{label:"连招名称"}},[e("el-input",{attrs:{placeholder:"请输入连招名称",minlength:1,maxlength:t.maxlength,"show-word-limit":""},on:{change:function(e){return t.checkDataName(i)}},model:{value:i.name,callback:function(e){t.$set(i,"name",e)},expression:"item.name"}})],1),e("el-form-item",{attrs:{label:"技能连招"}},[e("div",{staticClass:"u-skills"},[i.sq?t._l(i.sq,(function(i,s){return e("span",{key:i.SkillID+""+s,staticClass:"u-skill",on:{contextmenu:function(e){return e.preventDefault(),function(e){return t.onContextmenu(e,i)}.apply(null,arguments)}}},[e("img",{staticClass:"u-skill-icon",attrs:{src:t.iconLink(i.IconID),alt:i.IconID,title:i.Name}}),e("i",{directives:[{name:"show",rawName:"v-show",value:i.WithoutGcd,expression:"skill.WithoutGcd"}],staticClass:"u-gcd-icon"},[e("i",{staticClass:"el-icon-time"})]),e("i",{staticClass:"u-remove-icon",attrs:{title:"移除"},on:{click:function(e){return t.removeSkill(s)}}},[e("i",{staticClass:"el-icon-close"})])])})):t._e()],2),e("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-plus"},on:{click:t.addSkill}},[t._v("新增技能")])],1),e("el-form-item",{staticClass:"m-macro-desc",attrs:{label:"连招说明"}},[e("el-input",{attrs:{type:"textarea",placeholder:"连招简要说明（选填）"},model:{value:i.desc,callback:function(e){t.$set(i,"desc",e)},expression:"item.desc"}})],1),e("div",{staticClass:"m-macro-op"},[e("el-button",{staticClass:"u-macro-remove-fix",attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.removeCombo(s+1)}}},[t._v("移除本连招")])],1)],1)})),1)],1),t._t("default"),e("skillDialog",{attrs:{subtype:t.subtype},on:{submit:t.onSubmit},model:{value:t.showSkillDialog,callback:function(e){t.showSkillDialog=e},expression:"showSkillDialog"}})],2)}),[function(){var t=this._self._c;return t("div",{staticClass:"m-macro-talent-simulator"},[t("div",{staticClass:"qx-container"})])}],!1,null,null,null).exports,R=i("b13e"),G=i("cc72"),W=i("0711"),E=i("db12"),L=i("41de"),J=i("c402"),Y=i("6c2b"),U=i("4a9e"),F=i("bb78"),M=i("3c49"),V={name:"pvp_skill",mixins:[U.a,F.a,M.a],components:{"publish-header":c.a,"publish-title":r.a,"publish-original":u.a,"publish-zlp":d.a,"publish-xf":f.a,"publish-pvp":P,"publish-banner":R.a,"publish-comment":G.a,"publish-visible":W.a,"publish-authors":E.a,"publish-revision":L.a,"publish-client":p.a},data:function(){return{loading:!1,processing:!1,post:{ID:"",post_status:"publish",post_type:"pvp",post_title:"",post_subtype:"通用",post_meta:{talent:"",talent_desc:"",content:"",data:[{name:"",sq:[],desc:""}]},pz:[],post_content:"",post_mode:"tinymce",original:0,client:"std",lang:"cn",zlp:"",post_excerpt:"",post_banner:"",post_collection:"",collection_collapse:0,comment:0,allow_gift:1,visible:0}}},computed:{id:function(){return this.isRevision?~~this.post.post_id:~~this.post.ID},data:function(){return this.id?[this.id,this.post]:[this.post]},pz_query:function(){var t,e=null===(t=l[this.post.post_subtype])||void 0===t?void 0:t.id,i={};return e&&(i={mount:e}),i},isSuperAuthor:function(){return o.a.isSuperAuthor()}},watch:{"$route.query":{handler:function(t){null!=t&&t.subtype&&(this.post.post_subtype=t.subtype)},deep:!0,immediate:!0}},methods:{init:function(){var t=this;return sessionStorage.removeItem("atAuthor"),this.loadData().then((function(){t.autoSave()}))},publish:function(t,e){var i=this;return this.post.post_status=t,this.processing=!0,this.build(),J.e.apply(void 0,Object(s.a)(this.data)).then((function(t){return t.data.data})).then((function(t){i.afterPublish(t).finally((function(){i.done(e,t)}))})).finally((function(){i.processing=!1}))},build:function(){this.post.meta_2=~~a.a.get(l[this.post.post_subtype],"id")||0},done:function(t,e){var i=this;t?(this.$message({message:"发布成功",type:"success"}),setTimeout((function(){location.href="/pvp/?subtype="+i.post.post_subtype}),500)):(this.$notify({title:"保存成功",message:"云端草稿保存成功",type:"success"}),this.post=e,this.$route.params.id||this.$router.push({params:{id:e.ID}}))},afterPublish:function(t){return~~t.post_collection?Object(Y.a)({post_type:t.post_type,post_id:t.ID,post_collection:t.post_collection,post_title:t.post_title}):new Promise((function(t,e){t(!0)}))}}},X=(i("1283"),Object(N.a)(V,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-publish-box p-publish-macro"},[e("publish-header",{attrs:{name:"竞技技巧"}},[e("publish-revision",{attrs:{enable:!0,"post-id":t.id}})],1),e("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[e("publish-title",{model:{value:t.post.post_title,callback:function(e){t.$set(t.post,"post_title",e)},expression:"post.post_title"}}),e("div",{staticClass:"m-publish-info"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("信息")]),e("publish-original",{model:{value:t.post.original,callback:function(e){t.$set(t.post,"original",e)},expression:"post.original"}}),e("publish-client",{attrs:{forbidAll:!0},model:{value:t.post.client,callback:function(e){t.$set(t.post,"client",e)},expression:"post.client"}}),e("publish-zlp",{attrs:{client:t.post.client},model:{value:t.post.zlp,callback:function(e){t.$set(t.post,"zlp",e)},expression:"post.zlp"}}),e("publish-xf",{attrs:{client:t.post.client},model:{value:t.post.post_subtype,callback:function(e){t.$set(t.post,"post_subtype",e)},expression:"post.post_subtype"}})],1),e("publish-pvp",{attrs:{client:t.post.client,subtype:t.post.post_subtype},model:{value:t.post.post_meta,callback:function(e){t.$set(t.post,"post_meta",e)},expression:"post.post_meta"}}),e("div",{staticClass:"m-publish-extend"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("设置")]),e("publish-comment",{model:{value:t.post.comment,callback:function(e){t.$set(t.post,"comment",e)},expression:"post.comment"}}),e("publish-visible",{model:{value:t.post.visible,callback:function(e){t.$set(t.post,"visible",e)},expression:"post.visible"}}),e("publish-authors",{attrs:{id:t.id,uid:t.post.post_author}})],1),t.isSuperAuthor?e("div",{staticClass:"m-publish-other"},[e("publish-banner",{model:{value:t.post.post_banner,callback:function(e){t.$set(t.post,"post_banner",e)},expression:"post.post_banner"}})],1):t._e(),e("div",{staticClass:"m-publish-buttons"},[t.isDraft||t.isRevision?[e("el-button",{attrs:{type:"primary",disabled:t.processing},on:{click:t.useDraft}},[t._v("使用此版本")])]:[e("el-button",{attrs:{type:"primary",disabled:t.processing},on:{click:function(e){return t.publish("publish",!0)}}},[t._v("发    布")]),e("el-button",{attrs:{type:"plain",disabled:t.processing},on:{click:function(e){return t.publish("draft",!1)}}},[t._v("保存为草稿")])]],2)],1)],1)}),[],!1,null,null,null));e.default=X.exports},"1fb2":function(t,e,i){"use strict";var s={name:"publish_original",props:["data"],data:function(){return{original:~~this.data}},model:{prop:"data",event:"update"},watch:{data:function(t){this.original=~~t},original:{deep:!0,handler:function(t){this.$emit("update",~~t)}}},computed:{},methods:{},mounted:function(){},components:{}},n=i("2877"),a=Object(n.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-original"},[e("el-form-item",{attrs:{label:"原创"}},[e("el-switch",{attrs:{"active-color":"#13ce66","active-value":1,"inactive-value":0},model:{value:t.original,callback:function(e){t.original=e},expression:"original"}})],1),t._t("default")],2)}),[],!1,null,null,null);e.a=a.exports},"1fb9":function(t){t.exports=JSON.parse('{"b":300000,"a":30000}')},"263c":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return o})),i.d(e,"f",(function(){return r})),i.d(e,"e",(function(){return c}));i("99af");var s=i("41cb"),n=function(t,e){return Object(s.a)().post("/api/cms/post/".concat(t,"/revision"),e)},a=function(t,e){return Object(s.a)().get("/api/cms/post/".concat(t,"/revision/").concat(e))},l=function(t,e){return Object(s.a)().get("/api/cms/post/".concat(t,"/revisions"),{params:e})},o=function(t,e,i){return Object(s.a)().put("/api/cms/post/".concat(t,"/revision/").concat(e),i)},c=function(t,e){return Object(s.a)().delete("/api/cms/post/".concat(t,"/revision/").concat(e))},r=function(t,e){return Object(s.a)().delete("/api/cms/post/".concat(t,"/revisions?list=").concat(e))}},"3c49":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s=i("c7eb"),n=i("1da1"),a=(i("99af"),i("41cb"));var l,o=i("c9d2"),c={computed:{userInfo:function(){return o.a.getInfo()}},methods:{atUser:(l=Object(n.a)(Object(s.a)().mark((function t(e){var i;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(i=sessionStorage.getItem("atAuthor"))){t.next=6;break}return t.next=5,s={sendUserId:this.userInfo.uid,accessUserId:JSON.parse(i),postId:e||this.id,postType:this.post.post_type},n=void 0,l=void 0,o=void 0,c=void 0,n=s.sendUserId,l=s.accessUserId,o=s.postId,c=s.postType,Object(a.e)({mute:!0}).get("/api/horn/".concat(n,"/to/user/article/").concat(c,"/").concat(o),{params:{accessUserId:l}});case 5:sessionStorage.removeItem("atAuthor");case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var s,n,l,o,c}),t,this,[[0,8]])}))),function(t){return l.apply(this,arguments)})}}},"41de":function(t,e,i){"use strict";i("a9e3"),i("fb6a"),i("d3b7"),i("d81d"),i("14d9"),i("4de4"),i("b0c0"),i("99af"),i("a15b");var s=i("263c"),n=i("e4f1"),a={name:"publish_revision",props:{postId:{type:[String,Number],default:0},visible:{type:Boolean,default:!0},enable:{type:Boolean,default:!1}},data:function(){return{show:!1,data:[],per:10,page:1,total:0,loading:!1,checked:[],checkedAll:!1,isIndeterminate:!1}},computed:{params:function(){return{page:this.page,per:this.per}},isPostMode:function(){return!this.$route.query.mode||"default"==this.$route.query.mode},ready:function(){return this.enable&&this.postId&&this.isPostMode}},filters:{revisionName:function(t){return"版本".concat(t.version)},formatDate:function(t){return Object(n.b)(new Date(t))}},methods:{formatRemark:function(t){return(null==t?void 0:t.length)>10?t.slice(0,10)+"..":t},view:function(){this.postId&&(this.show=!0,this.loadList())},loadList:function(){var t=this;this.loading=!0,Object(s.c)(this.postId,this.params).then((function(e){t.data=e.data.data.list.map((function(e){return t.$set(e,"checked",!1),e})),t.page=e.data.data.page,t.per=e.data.data.per,t.total=e.data.data.total})).finally((function(){t.loading=!1}))},remark:function(t){var e=this;this.$prompt("请输入备注","提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,inputValue:t.remark||""}).then((function(i){var n=i.value;Object(s.d)(e.postId,t.id,{remark:n}).then((function(){return e.$message.success("备注添加成功"),t.remark=n,!0})).catch((function(){return!1}))}))},checkChange:function(t,e){t?this.checked.push(e.id):this.checked=this.checked.filter((function(t){return t!==e.id})),this.checkedAll=this.checked.length===this.data.length},checkAll:function(t){t?(this.checked=this.data.map((function(t){return t.id})),this.data.map((function(t){return t.checked=!0,t}))):(this.checked=[],this.data.map((function(t){return t.checked=!1,t}))),this.isIndeterminate=!1,console.log(this.checked)},use:function(t){var e=this.$route.name;this.$router.push("/".concat(e,"/").concat(t.post_id,"/?mode=revision&id=").concat(t.id))},del:function(t){var e=this;this.$confirm("确认删除【版本-".concat(t.version,"】吗？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s.e)(e.postId,t.id).then((function(){e.$notify({type:"success",title:"成功",message:"历史版本删除成功"}),e.loadList()}))}))},delRevisions:function(){var t=this;this.$confirm("确认删除选中的历史版本？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=t.checked.join(",");Object(s.f)(t.postId,e).then((function(){t.$notify({type:"success",title:"成功",message:"历史版本删除成功"}),t.checkedAll=!1,t.checked=[],1===t.page?t.loadList():t.page=1}))}))}},watch:{params:{deep:!0,handler:function(){this.loadList()}}}},l=(i("04a4"),i("2877")),o=Object(l.a)(a,(function(){var t=this,e=t._self._c;return t.ready?e("div",{staticClass:"m-revision"},[e("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-folder"},on:{click:t.view}},[t._v("历史版本")]),e("el-drawer",{staticClass:"m-revision-drawer",attrs:{title:"历史版本",visible:t.show,"z-index":"2100","append-to-body":""},on:{"update:visible":function(e){t.show=e}}},[e("h3",{staticClass:"u-revision-title",attrs:{slot:"title"},slot:"title"},[t._v("历史版本")]),e("main",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-revision-container"},[e("div",{staticClass:"u-actions"},[e("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.checkAll},model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:"checkedAll"}},[t._v("全选")]),e("el-button",{staticClass:"u-empty",attrs:{size:"mini",plain:"",icon:"el-icon-delete",disabled:!t.checked||!t.checked.length},on:{click:t.delRevisions}},[t._v("批量删除")])],1),e("div",{staticClass:"m-revision-list"},[t.data&&t.data.length?e("ul",{staticClass:"u-list"},[t._l(t.data,(function(i,s){return e("li",{key:s,staticClass:"m-revision-item"},[e("span",{staticClass:"u-name"},[e("el-checkbox",{staticClass:"u-checkbox",on:{change:function(e){return t.checkChange(e,i)}},model:{value:i.checked,callback:function(e){t.$set(i,"checked",e)},expression:"item.checked"}}),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.remark,placement:"top",disabled:!i.remark}},[e("span",[e("i",{staticClass:"u-icon el-icon-tickets"}),e("span",{staticClass:"u-remark"},[t._v(t._s(i.remark?t.formatRemark(i.remark):i.post_title))])])]),e("em",{staticClass:"u-time"},[t._v(t._s(t._f("formatDate")(i.updated_at)))]),i.user_info?e("span",{staticClass:"u-creator",attrs:{title:"创建人"}},[t._v(t._s(i.user_info.display_name))]):t._e(),e("i",{staticClass:"u-edit el-icon-edit",attrs:{title:"添加备注"},on:{click:function(e){return t.remark(i)}}})],1),e("el-button-group",[e("el-button",{attrs:{size:"mini",icon:"el-icon-view",title:"预览"},on:{click:function(e){return t.use(i)}}}),e("el-button",{attrs:{size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(e){return t.del(i)}}})],1)],1)})),e("el-pagination",{staticClass:"u-pagination",attrs:{background:"","hide-on-single-page":"",layout:"prev,pager,next,->,total",total:t.total,"page-size":t.per,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],2):e("el-alert",{staticClass:"u-null",attrs:{title:"当前没有任何历史版本",type:"info","show-icon":""}})],1)])])],1):t._e()}),[],!1,null,null,null);e.a=o.exports},"4a9e":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("d3b7"),i("e9c4"),i("99af");var s=i("c402"),n=i("1fb9"),a=i("263c"),l=i("d442"),o=i.n(l),c=i("2ef0"),r={data:function(){return{localTimer:"",webTimer:""}},beforeDestroy:function(){clearInterval(this.localTimer),this.localTimer=null,clearInterval(this.webTimer),this.webTimer=null},computed:{db:function(){return this.$store.state.db},isDraft:function(){var t;return"draft"===(null===(t=this.$route.query)||void 0===t?void 0:t.mode)},isRevision:function(){var t;return"revision"===(null===(t=this.$route.query)||void 0===t?void 0:t.mode)},isNewPost:function(){return!this.id}},methods:{loadData:function(){var t=this;if(this.loading=!0,this.isDraft){var e,i,n=null===(e=this.$route)||void 0===e||null===(i=e.query)||void 0===i?void 0:i.key;return this.db.getItem(n).then((function(e){t.post=e})).finally((function(){t.loading=!1}))}if(this.isRevision){var l=this.$route.params.id,o=this.$route.query.id;return Object(a.b)(l,o).then((function(e){t.post=e.data.data})).finally((function(){t.loading=!1}))}return this.$route.params.id?Object(s.d)(this.$route.params.id).then((function(e){t.post=e.data.data})).finally((function(){t.loading=!1})):new Promise((function(t,e){t()})).finally((function(){t.loading=!1}))},autoSave:function(){var t=this;this.id&&sessionStorage.setItem(this.post.post_type+"_"+this.id,JSON.stringify(this.post)),this.isDraft||this.isRevision||(this.localTimer=setInterval((function(){t.createLocalDraft()}),n.a),this.id&&(this.webTimer=setInterval((function(){t.createCloudRevision()}),n.b)))},createLocalDraft:function(){var t="";if(this.isNewPost&&this.post.post_content){var e="无标题-"+(new Date).getTime();t=this.post.post_type+"_"+(this.post.post_title||e)}this.id&&(t=this.post.post_type+"_"+this.id);var i=Object(c.cloneDeep)(this.post);i.cache_time=(new Date).getTime(),t&&this.db.setItem(t,i).then((function(){console.log("本地草稿备份完成",t,(new Date).getTime())}))},createCloudRevision:function(){var t=this;o.a.MD5(sessionStorage.getItem("".concat(this.post.post_type,"_").concat(this.post.ID)))===o.a.MD5(JSON.stringify(this.post))||Object(a.a)(this.post.ID,this.post).then((function(){t.$notify({title:"提醒",type:"success",message:"历史版本生成成功"}),sessionStorage.setItem("".concat(t.post.post_type,"_").concat(t.post.ID),JSON.stringify(t.post))}))},useDraft:function(){var t=this;this.$alert("是否使用该版本发布？","确认信息",{confirmButtonText:"确定",callback:function(e){"confirm"===e&&t.publish("publish",!0)}})}}}},"505f":function(t,e,i){"use strict";var s=i("52da"),n={name:"publish_client",props:["data","forbidAll"],data:function(){return{client:this.data}},model:{prop:"data",event:"update"},watch:{data:function(t){this.client=t},client:{deep:!0,handler:function(t){this.$emit("update",t)}}},computed:{},methods:{handleChange:function(){s.a.$emit("changeClient",this.client)}},mounted:function(){},components:{}},a=i("2877"),l=Object(a.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-client"},[e("el-form-item",{attrs:{label:"版本"}},[e("el-radio-group",{on:{change:t.handleChange},model:{value:t.client,callback:function(e){t.client=e},expression:"client"}},[e("el-radio",{attrs:{label:"std"}},[t._v("重制")]),e("el-radio",{attrs:{label:"origin"}},[t._v("缘起")]),t.forbidAll?t._e():e("el-radio",{attrs:{label:"all"}},[t._v("双端")])],1)],1),t._t("default")],2)}),[],!1,null,null,null);e.a=l.exports},"52da":function(t,e,i){"use strict";var s=new(i("2b0e").default);e.a=s},"590f":function(t,e){t.exports="data:image/png;base64,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"},"5a5c":function(t,e,i){"use strict";i("bb22")},"647d":function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return a})),i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return l})),i.d(e,"f",(function(){return c})),i.d(e,"e",(function(){return r}));i("99af");var s=i("41cb");function n(t){return Object(s.a)().get("/api/cms/posts/user/my/union",{params:t})}function a(t){return Object(s.a)().delete("/api/cms/post/".concat(t,"/authors/quit"))}function l(t){return Object(s.a)().get("/api/cms/post/".concat(t,"/authors"))}function o(t,e){return Object(s.a)().post("/api/cms/post/".concat(t,"/author/").concat(e),{label:"撰稿",r_edit:1})}function c(t,e,i){return Object(s.a)().put("/api/cms/post/".concat(t,"/author/").concat(e),i)}function r(t,e){return Object(s.a)().delete("/api/cms/post/".concat(t,"/author/").concat(e))}},"6c2b":function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"b",(function(){return l})),i.d(e,"d",(function(){return o})),i.d(e,"f",(function(){return c})),i.d(e,"e",(function(){return r})),i.d(e,"a",(function(){return u}));i("99af");var s=i("41cb"),n=i("4328");function a(){return Object(s.b)()({method:"GET",url:"/api/post/collection/legal_tags"})}function l(t){return Object(s.b)()({method:"GET",url:"/api/post/collection/".concat(t)})}function o(t){return Object(s.b)()({method:"GET",url:"/api/my/post/collections",params:t})}function c(t){return Object(s.b)()({method:"POST",url:"/api/post/collection",data:n.stringify({action:t.id?"update":"create",collection:t})})}function r(t){return t?Object(s.b)()({method:"PUT",url:"/api/post/collection/remove",data:n.stringify({id:t})}):null}function u(t){return Object(s.a)().post("/api/cms/post/".concat(t.post_type,"-").concat(t.post_id,"/append-to-collection/").concat(t.post_collection),{title:t.post_title})}},"7c7e":function(t,e,i){"use strict";var s=i("53ca");i("b64b");e.a=function(t){return!t||(!(!Array.isArray(t)||t.length)||"object"==Object(s.a)(t)&&!Object.keys(t).length)}},"920f":function(t){t.exports=JSON.parse('{"0":{"kungfus":["10005","10010","10095","10082"],"skills":{"10005":["608","11","12","13","14","15","16","17","34","605","1795","2183","4104"],"10010":["49","10"],"10082":["9005","9006","9004","18","9002","9003","81"],"10095":["52","58"]}},"10002":{"kungfus":["10031","10032","10033","10034"],"skills":{"10031":["232","233","234","235","236","237","498"],"10032":["238","239","240","241","242","243"],"10033":["244","245","246","247","248","249","250","251","252"],"10034":["200","254","255","257","258","259","260","261"]}},"10003":{"kungfus":["10031","10032","10033","10034"],"skills":{"10031":["232","233","234","235","236","237","498"],"10032":["238","239","240","241","242","243"],"10033":["244","245","246","247","248","249","250","251","252"],"10034":["200","254","255","257","258","259","260","261"]}},"10014":{"kungfus":["10000","10009","10011","10012"],"skills":{"10000":["357","358","359","360","361","362","363","371","372"],"10009":["301","302","303","305","306","367","368","369","370"],"10011":["307","308","309","310","311","364","365","366","588"],"10012":["300","312","313","314","316","346","355","356"]}},"10015":{"kungfus":["10000","10009","10011","10012"],"skills":{"10000":["357","358","359","360","361","362","363","371","372"],"10009":["301","302","303","305","306","367","368","369","370"],"10011":["307","308","309","310","311","364","365","366","588"],"10012":["300","312","313","314","316","346","355","356"]}},"10021":{"kungfus":["10018","10019","10088","10089"],"skills":{"10018":["100","130","131","132","133","134","136"],"10019":["101","137","138","139","140","141","142","143"],"10088":["179","180","181","183","184","228"],"10089":["182","186","187","188","189","190"]}},"10026":{"kungfus":["10017","10023","10024","10061"],"skills":{"10017":["400","401","402","403","415","480"],"10023":["404","405","411","412","413","422"],"10024":["418","423","424","441","442","482"],"10061":["425","426","427","428","433","479"]}},"10028":{"kungfus":["10018","10019","10088","10089"],"skills":{"10018":["100","130","131","132","133","134","136"],"10019":["101","137","138","139","140","141","142","143"],"10088":["179","180","181","183","184","228"],"10089":["182","186","187","188","189","190"]}},"10062":{"kungfus":["10017","10023","10024","10061"],"skills":{"10017":["400","401","402","403","415","480"],"10023":["404","405","411","412","413","422"],"10024":["418","423","424","441","442","482"],"10061":["425","426","427","428","433","479"]}},"10080":{"kungfus":["10068","10069","10070","10072"],"skills":{"10068":["546","547","559","561","562","563","564","568"],"10069":["554","555","556","565","566","567","569","3003"],"10070":["537","544","553","557","558","570","571","575"],"10072":["545","548","549","550","551","552","573","574"]}},"10081":{"kungfus":["10068","10069","10070","10072"],"skills":{"10068":["546","547","559","561","562","563","564","568"],"10069":["554","555","556","565","566","567","569","3003"],"10070":["537","544","553","557","558","570","571","575"],"10072":["545","548","549","550","551","552","573","574"]}},"10144":{"kungfus":["10146","10148","10149","10150"],"skills":{"10146":["1577","1578","1579","1580","1581","1589"],"10148":["1593","1596","1600","1610","1613","1645"],"10149":["1646","1647","1649","1651","1655","1656","1940"],"10150":["1663","1664","1665","1666","1667","1668"]}},"10145":{"kungfus":["10146","10148","10149","10150"],"skills":{"10146":["1577","1578","1579","1580","1581","1589"],"10148":["1593","1596","1600","1610","1613","1645"],"10149":["1646","1647","1649","1651","1655","1656","1940"],"10150":["1663","1664","1665","1666","1667","1668"]}},"10175":{"kungfus":["10171","10172","10173","10174"],"skills":{"10171":["2209","2210","2211","2212","2213"],"10172":["2214","2215","2216","2217","2220","3702"],"10173":["2221","2222","2223","2224","2225","2226","2228"],"10174":["2230","2231","2232","2233","2234","2235","2229"]}},"10176":{"kungfus":["10171","10172","10173","10174"],"skills":{"10171":["2209","2210","2211","2212","2213"],"10172":["2214","2215","2216","2217","2220","3702"],"10173":["2221","2222","2223","2224","2225","2226","2228"],"10174":["2230","2231","2232","2233","2234","2235","2229"]}},"10224":{"kungfus":["10216","10218","10219","10220"],"skills":{"10216":["3087","3088","3089","3090","3091","3092","3093"],"10218":["3095","3096","3097","3098","3099"],"10219":["3104","3105","3106","3107","3108","3109"],"10220":["3094","3103","3112","3113","3114","3115","3116","3117","3118"]}},"10225":{"kungfus":["10216","10218","10219","10220"],"skills":{"10216":["3087","3088","3089","3090","3091","3092","3093"],"10218":["3095","3096","3097","3098","3099"],"10219":["3104","3105","3106","3107","3108","3109"],"10220":["3094","3103","3112","3113","3114","3115","3116","3117","3118"]}},"10242":{"kungfus":["10235","10236","10237","10238"],"skills":{"10235":["3959","3960","3961","3962","3963","3964","3965","3966","3967"],"10236":["3968","3969","3970","3971","3973"],"10237":["3974","3975","3976","3978","4910"],"10238":["3980","3981","3982","3984"]}},"10243":{"kungfus":["10235","10236","10237","10238"],"skills":{"10235":["3959","3960","3961","3962","3963","3964","3965","3966","3967"],"10236":["3968","3969","3970","3971","3973"],"10237":["3974","3975","3976","3978","4910"],"10238":["3980","3981","3982","3984"]}},"10268":{"kungfus":["10263","10264","10296","10265"],"skills":{"10263":["5258","5257","5259","5260","5361","5354","5362"],"10264":["5262","5266","5367","5368","8490","5369","5370","5638"],"10265":["5268","5269","5270","6942","6945","6946","6947","6948"],"10296":["5263","5265","5267","5365","5522","5602","5605"]}},"10389":{"kungfus":["10385","10386","10384","10383"],"skills":{"10383":["13040","13042","13070","13067"],"10384":["13049","13050","13068","13048","13424"],"10385":["13044","13045","13046","13047","13391"],"10386":["13052","13053","13054","13055"]}},"10390":{"kungfus":["10385","10386","10384","10383"],"skills":{"10383":["13040","13042","13070","13067"],"10384":["13049","13050","13068","13048","13424"],"10385":["13044","13045","13046","13047","13391"],"10386":["13052","13053","13054","13055"]}},"10447":{"kungfus":["10440","10441","10442","10443"],"skills":{"10440":["14064","14065","14066","14067","14068","14302","14303"],"10441":["14069","14070","14071","14072"],"10442":["14073","14074","14075","14154","14076"],"10443":["14081","14082","14083","14084","15092"]}},"10448":{"kungfus":["10440","10441","10442","10443"],"skills":{"10440":["14064","14065","14066","14067","14068","14302","14303"],"10441":["14069","14070","14071","14072"],"10442":["14073","14074","14075","14154","14076"],"10443":["14081","14082","14083","14084","15092"]}},"10464":{"kungfus":["10465","10466","10467","10468"],"skills":{"10465":["16028","16598","16460"],"10466":["16168","16601","16479","16602","16627"],"10467":["16166","16304","17057","16870"],"10468":["16169","16027","16621","16085","16455"]}}}')},9314:function(t){t.exports=JSON.parse('{"10000":"纯阳诀","10005":"防身武艺","10009":"北冥剑气","10010":"基础招式","10011":"天道剑势","10012":"坐忘经","10017":"羽林枪法","10018":"养心诀","10019":"太素九针","10023":"虎牙令","10024":"奔雷枪术","10031":"罗汉棍法","10032":"龙爪功","10033":"袈裟伏魔功","10034":"达摩武诀","10061":"游龙骑法","10068":"猿公剑法","10069":"霓裳羽衣","10070":"西河剑器","10072":"剑器浑脱","10082":"江湖轻功","10088":"点穴截脉","10089":"百花拂穴手","10095":"混元气功","10146":"秀水剑法","10148":"灵峰剑式","10149":"君子风","10150":"西子情","10171":"千劫万毒手","10172":"引魂蛊术","10173":"驭虫奇术","10174":"补天心经","10216":"乾坤一掷","10218":"百步穿杨","10219":"九宫飞星","10220":"天魔无相","10235":"日月净世","10236":"幻魔妙相","10237":"御暗烬灭令","10238":"大圣明尊法","10263":"打狗棒法","10264":"降龙掌·上","10265":"逍遥行","10296":"降龙掌·下","10383":"寒铁诀","10384":"破阵令","10385":"云城盾","10386":"苍雪刀","10440":"音","10441":"曲","10442":"气","10443":"影","10465":"殷雷腿","10466":"秀明尘身","10467":"松烟竹雾","10468":"雪絮金屏","10535":"风起云扬诀","10539":"长空破云式","10540":"九霄踏云步","10541":"碧海缥缈掌","10586":"断水刃","10588":"隐雷鞭","10589":"冲云链","10590":"山河令","10614":"九字诀","10617":"占术","10618":"奇门","10619":"天机","10622":"行忌制方","10623":"行宜列药","10624":"凌波飞叶令","10625":"神农百草诀","10697":"流云势法","10706":"游风步","10707":"破浪三式","10708":"骤雨劲"}')},a4c3:function(t,e,i){},abe2:function(t,e,i){"use strict";i("d810")},b13e:function(t,e,i){"use strict";var s={name:"post_banner",components:{uploadImage:i("5571").a},props:["data"],data:function(){return{banner:this.data}},model:{prop:"data",event:"update"},watch:{data:function(t){this.banner=t},banner:function(t){this.$emit("update",t)}}},n=(i("5a5c"),i("2877")),a=Object(n.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-banner"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v("海报")]),e("uploadImage",{attrs:{info:"非必选。首页海报尺寸1600*280（推荐3200*560支持高分屏），最大30M。","max-size":30},model:{value:t.banner,callback:function(e){t.banner=e},expression:"banner"}})],1)}),[],!1,null,null,null);e.a=a.exports},b485:function(t,e,i){},ba02:function(t,e,i){"use strict";i("b485")},bb22:function(t,e,i){},bb78:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var s={data:function(){return{}},methods:{},created:function(){this.post.client=this.$store.state.client},watch:{$route:{immediate:!0,deep:!0,handler:function(){this.init()}},"$store.state.user_conf.editor_mode":{immediate:!0,handler:function(t){this.id||(this.post.post_mode=t||"tinymce")}}}}},cc72:function(t,e,i){"use strict";var s={name:"publish_comment",props:["data"],data:function(){return{comment:this.data}},model:{prop:"data",event:"update"},watch:{data:function(t){this.comment=t},comment:{deep:!0,handler:function(t){this.$emit("update",t)}}},computed:{},methods:{},mounted:function(){},components:{}},n=i("2877"),a=Object(n.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-comment"},[e("el-form-item",{attrs:{label:"评论开关"}},[e("el-switch",{attrs:{"active-color":"#13ce66","active-value":0,"inactive-value":1},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),t._t("default")],2)}),[],!1,null,null,null);e.a=a.exports},d0a1:function(t,e,i){"use strict";var s={name:"publish_title",props:["data","hideDiv","placeholder"],data:function(){return{title:this.data}},model:{prop:"data",event:"update"},watch:{data:function(t){this.title=t},title:{deep:!0,handler:function(t){this.$emit("update",t)}}},computed:{},methods:{},mounted:function(){},components:{}},n=i("2877"),a=Object(n.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-title"},[t.hideDiv?t._e():e("el-divider",{attrs:{"content-position":"left"}},[t._v("标题")]),e("el-input",{attrs:{maxlength:50,minlength:2,"show-word-limit":"",required:"",placeholder:t.placeholder||"请填写标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._t("default")],2)}),[],!1,null,null,null);e.a=a.exports},d0b4:function(t,e,i){"use strict";var s=i("6df1"),n={name:"publish_zlp",props:["data","client"],data:function(){return{zlp:this.data,zlps:s.std}},model:{prop:"data",event:"update"},watch:{data:function(t){this.zlp=t},zlp:{deep:!0,handler:function(t){this.$emit("update",t)}},client:{handler:function(t){t=t||"std",this.zlps=s[t]},immediate:!0}},computed:{},methods:{},mounted:function(){},components:{}},a=i("2877"),l=Object(a.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-zlp"},[e("el-form-item",{attrs:{label:"资料片"}},[e("el-select",{attrs:{filterable:"","allow-create":!0,placeholder:"请选择适应资料片"},model:{value:t.zlp,callback:function(e){t.zlp=e},expression:"zlp"}},t._l(t.zlps,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t._t("default")],2)}),[],!1,null,"7579bf35",null);e.a=l.exports},d5fc:function(t){t.exports=JSON.parse('{"0":{"kungfus":["10005","10010","10095","10082"],"skills":{"10005":["11","12","13","14","15","16","1795","2183","3121","4326","13039","16010","14063","19712","22126","25512","27451","17","34","3373","3374"],"10010":["23312","605","4104","21024","81"],"10082":["9007","9003","9002","9005","9006","9004","19989","20012","20569","20619","20628","20649","20652","20655","20658","20663","20666","20670","20672","20675","21204","21205","21206","21207","21208","21209","21210","21211","21212","21213","21214","21215","21216","21217","23039","23478","25871","25873"],"10095":["608","35"]}},"10002":{"kungfus":["10031","10032","10033","10034"],"skills":{"10031":["232","233","235","236"],"10032":["238","2572","243","242"],"10033":["252","18604","245","15165"],"10034":["260","200","258","261","257"]}},"10003":{"kungfus":["10031","10032","10033","10034"],"skills":{"10031":["232","233","235","236"],"10032":["238","2572","243","242"],"10033":["252","18604","245","15165"],"10034":["260","200","258","261","257"]}},"10014":{"kungfus":["10000","10009","10011","10012"],"skills":{"10000":["358","372","359","362","371","363"],"10009":["367","301","306","303","368","369","18640","2674","305"],"10011":["364","311","365","366","2699","588","2690"],"10012":["312","2681","346","355"]}},"10015":{"kungfus":["10000","10009","10011","10012"],"skills":{"10000":["358","372","359","362","371","363"],"10009":["367","301","306","303","368","369","18640","2674","305"],"10011":["364","311","365","366","2699","588","2690"],"10012":["312","2681","346","355"]}},"10021":{"kungfus":["10018","10019","10088","10089"],"skills":{"10018":["132","131","130","100","2663","136"],"10019":["140","101","138","142","139","2654"],"10088":["179","180","228"],"10089":["189","182","186","2636","190","2645"]}},"10026":{"kungfus":["10017","10023","10024","10061"],"skills":{"10017":["400","403","415","480"],"10023":["412","404","413","422"],"10024":["442","418","424","423"],"10061":["427","6520","428","433","2603","426"]}},"10028":{"kungfus":["10018","10019","10088","10089"],"skills":{"10018":["132","131","130","100","2663","136"],"10019":["140","101","138","142","139","2654"],"10088":["179","180","228"],"10089":["189","182","186","2636","190","2645"]}},"10062":{"kungfus":["10017","10023","10024","10061"],"skills":{"10017":["400","403","415","480"],"10023":["412","404","413","422"],"10024":["442","418","424","423"],"10061":["427","6520","428","433","2603","426"]}},"10080":{"kungfus":["10068","10069","10070","10072"],"skills":{"10068":["2707","561","2716","546"],"10069":["554","556","565","569","555","3003"],"10070":["537","8670","544","553","557","18579","558"],"10072":["568","545","574","550","551"]}},"10081":{"kungfus":["10068","10069","10070","10072"],"skills":{"10068":["2707","561","2716","546"],"10069":["554","556","565","569","555","3003"],"10070":["537","8670","544","553","557","18579","558"],"10072":["568","545","574","550","551"]}},"10144":{"kungfus":["10146","10148","10149","10150"],"skills":{"10146":["1579","1577","1578","1581","1580","1589"],"10148":["1593","1600","18322","1645","1613"],"10149":["1646","1649","1656"],"10150":["1663","1666","1668"]}},"10145":{"kungfus":["10146","10148","10149","10150"],"skills":{"10146":["1579","1577","1578","1581","1580","1589"],"10148":["1593","1600","18322","1645","1613"],"10149":["1646","1649","1656"],"10150":["1663","1666","1668"]}},"10175":{"kungfus":["10171","10172","10173","10174"],"skills":{"10171":["2209","6621","2211","2212","2213","6626","2210"],"10172":["18584","3702","2220"],"10173":["2223","2225","2226","2228","2222","2221","2224","2965"],"10174":["2231","13983","2232","2233","6675","2957","2229","2235","2230"]}},"10176":{"kungfus":["10171","10172","10173","10174"],"skills":{"10171":["2209","6621","2211","2212","2213","6626","2210"],"10172":["18584","3702","2220"],"10173":["2223","2225","2226","2228","2222","2221","2224","2965"],"10174":["2231","13983","2232","2233","6675","2957","2229","2235","2230"]}},"10224":{"kungfus":["10216","10218","10219","10220"],"skills":{"10216":["3091","3089","3093","3090"],"10218":["3095","3096","3097","3101","3098"],"10219":["3105","3106","3109","3108","3111","3110"],"10220":["18481","3094","3118","3112","3114","3103"]}},"10225":{"kungfus":["10216","10218","10219","10220"],"skills":{"10216":["3091","3089","3093","3090"],"10218":["3095","3096","3097","3101","3098"],"10219":["3105","3106","3109","3108","3111","3110"],"10220":["18481","3094","3118","3112","3114","3103"]}},"10242":{"kungfus":["10235","10236","10237","10238"],"skills":{"10235":["3962","3963","3966","3967","3959","3960"],"10236":["3973","3970","3969"],"10237":["3974","3979","3977","4910","3975"],"10238":["3982","3980","3985"]}},"10243":{"kungfus":["10235","10236","10237","10238"],"skills":{"10235":["3962","3963","3966","3967","3959","3960"],"10236":["3973","3970","3969"],"10237":["3974","3979","3977","4910","3975"],"10238":["3982","3980","3985"]}},"10268":{"kungfus":["10263","10264","10296","10265"],"skills":{"10263":["5258","5354","5361","5362","5260","5259","5257"],"10264":["5367","5368","5369","5370","5266","5638","8490","5262"],"10265":["5268","5269","5270","6942","6945","6946","6947","6948"],"10296":["5263","5365","18523","5265","5522","5602","5267"]}},"10389":{"kungfus":["10385","10386","10384","10383"],"skills":{"10383":["13040","13042","13070","13067"],"10384":["13050","13048","13049","13424","13068"],"10385":["13044","13046","13391","13047","13045"],"10386":["13052","13054","13055","13053"]}},"10390":{"kungfus":["10385","10386","10384","10383"],"skills":{"10383":["13040","13042","13070","13067"],"10384":["13050","13048","13049","13424","13068"],"10385":["13044","13046","13391","13047","13045"],"10386":["13052","13054","13055","13053"]}},"10447":{"kungfus":["10440","10441","10442","10443"],"skills":{"10440":["14064","14065","14066","14067","14068","14302"],"10441":["14069","14070","14071","14072"],"10442":["14076","14075","14074","14154","14073"],"10443":["14082","14083","15092","14081","14084"]}},"10448":{"kungfus":["10440","10441","10442","10443"],"skills":{"10440":["14137","14303","14138","14140","14141","14139"],"10441":["14069","14070","14071","14072"],"10442":["14076","14075","14074","14154","14073"],"10443":["14082","14083","15092","14081","14084"]}},"10464":{"kungfus":["10465","10466","10467","10468"],"skills":{"10465":["16028","16460","16598"],"10466":["16168","16601","16602","16627","16479"],"10467":["16166","16304","17057","16870"],"10468":["16169","16027","16085","16621","16455","16620"]}},"10533":{"kungfus":["10535","10539","10540","10541"],"skills":{"10535":["19737","19818","20245"],"10539":["19827","20259","19984","20281"],"10540":["20053","19828","20049","20285"],"10541":["20082","20083","20084"]}},"10585":{"kungfus":["10586","10588","10589","10590"],"skills":{"10586":["22143","22144","22150"],"10588":["22327","22320","22321","22358"],"10589":["22274","22361","22460","22614"],"10590":["22344","22360","22417"]}},"10615":{"kungfus":["10614","10617","10618","10619"],"skills":{"10614":["24369","24371","24372","24373","24374"],"10617":["24375","24376","24377","24431","24491"],"10618":["24378","24379","24380"],"10619":["24383","25142","24382","24385"]}},"10626":{"kungfus":["10622","10623","10624","10625"],"skills":{"10622":["27551","27554","27556","27578","27582"],"10623":["27621","27632","27623","27630","27634","28620"],"10624":["28345","27536","27635","27637","27642"],"10625":["27650","27652","27667","27669","27675","27674","27897"]}},"10627":{"kungfus":["10622","10623","10624","10625"],"skills":{"10622":["27551","27554","27556","27578","27582"],"10623":["27621","27632","27623","27630","27634","28620"],"10624":["28345","27536","27635","27637","27642"],"10625":["27650","27652","27667","27669","27675","27674","27897"]}},"10698":{"kungfus":["10697","10706","10707","10708"],"skills":{"10697":["32132","32133","32134","32135","32174"],"10706":["32140","32419","32142","31862"],"10707":["32601","32144","32145"],"10708":["32146","32147","32148"]}}}')},d810:function(t,e,i){},d8ed:function(t,e,i){},d95e:function(t,e,i){"use strict";i("caad"),i("2532"),i("b0c0");var s=i("46d4"),n=i("65c2"),a={name:"publish_xf",props:["data","client"],data:function(){return{xf:this.data,exact_client:this.client||"std"}},model:{prop:"data",event:"update"},watch:{data:function(t){this.xf=t},xf:{deep:!0,handler:function(t){this.$emit("update",t)}},client:function(t){this.exact_client=t||"std"}},computed:{xfmap:function(){return delete s["山居剑意"],s}},methods:{},filters:{xficon:function(t){return n.__imgPath+"image/xf/"+t+".png"}},mounted:function(){},components:{}},l=i("2877"),o=Object(l.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-publish-xf"},[e("el-form-item",{attrs:{label:"心法"}},t._l(t.xfmap,(function(i,s){return e("el-radio",{directives:[{name:"show",rawName:"v-show",value:i.client.includes(t.exact_client),expression:"item.client.includes(exact_client)"}],key:s,attrs:{label:i.name},model:{value:t.xf,callback:function(e){t.xf=e},expression:"xf"}},[e("img",{staticClass:"u-pic",attrs:{src:t._f("xficon")(i.id),alt:i.name}}),e("span",{staticClass:"u-txt"},[t._v(t._s(i.name))])])})),1),t._t("default")],2)}),[],!1,null,null,null);e.a=o.exports},db12:function(t,e,i){"use strict";i("14d9"),i("a434");var s=i("1dfe"),n=i("647d"),a=i("85e4"),l=i("c9d2"),o={name:"PublishAuthors",props:["id","uid"],components:{UserPop:s.a},data:function(){return{list:[],visible:!1}},computed:{isSuper:function(){return l.a.getInfo().uid==this.uid}},watch:{id:{immediate:!0,handler:function(t){t&&this.loadAuthors()}}},methods:{openPop:function(){this.visible=!0},addAuthor:function(t){var e=this;Object(n.a)(this.id,t.ID).then((function(i){e.$notify({title:"添加成功",message:"联合创作者添加成功",type:"success"}),e.list.push({post_author_info:t,label:"撰稿",status:0})}))},loadAuthors:function(){var t=this;Object(n.b)(this.id).then((function(e){var i,s;t.list=null===(i=e.data)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.other_authors}))},update:function(t){var e=this;this.$prompt("修改展示项，例如：撰稿/修订/主创/校稿..","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(i){var s=i.value;Object(n.f)(e.id,t.post_author_info.ID,{label:s,r_edit:1}).then((function(){t.label=s,e.$notify({title:"修改成功",message:"备注更新成功",type:"success"})}))}))},remove:function(t,e){var i=this;Object(n.e)(this.id,t.post_author_info.ID).then((function(t){i.$notify({title:"删除成功",message:"成功移除联合创作者",type:"success"}),i.list.splice(e,1)}))}},filters:{showAvatar:function(t){return Object(a.showAvatar)(t)}},created:function(){},mounted:function(){}},c=(i("11a5"),i("2877")),r=Object(c.a)(o,(function(){var t=this,e=t._self._c;return t.id&&t.isSuper?e("div",{staticClass:"m-publish-authors"},[e("el-form-item",{attrs:{label:"联合创作"}},[e("div",{staticClass:"u-list"},[t._l(t.list,(function(i,s){return e("div",{key:s,staticClass:"u-item"},[i.status?t._e():e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"等待被邀请者确认",placement:"top"}},[e("i",{staticClass:"u-status el-icon-loading"})]),e("img",{staticClass:"u-avatar",attrs:{src:t._f("showAvatar")(i.post_author_info.user_avatar)}}),e("span",{staticClass:"u-name"},[t._v(" "+t._s(i.post_author_info.display_name)+" "),e("span",{staticClass:"u-label"},[t._v("("+t._s(i.label||"撰稿")+")")])]),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改备注",placement:"top"}},[e("i",{staticClass:"u-edit el-icon-edit",on:{click:function(e){return t.update(i)}}})]),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"移除",placement:"top"}},[e("i",{staticClass:"u-delete el-icon-delete",on:{click:function(e){return t.remove(i,s)}}})])],1)})),e("el-button",{attrs:{plain:"",size:"small",type:"primary"},on:{click:t.openPop}},[t._v("+ 添加联合创作者")])],2),e("UserPop",{attrs:{title:"添加用户"},on:{confirm:t.addAuthor},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}})],1)],1):t._e()}),[],!1,null,null,null);e.a=r.exports},ef77:function(t,e,i){"use strict";i("b0c0"),i("14d9");var s={name:"publish_header",props:["name"],data:function(){return{}},computed:{},methods:{goBack:function(){window.history.length?this.$router.go(-1):this.$router.push("/")}},mounted:function(){},components:{}},n=(i("abe2"),i("2877")),a=Object(n.a)(s,(function(){var t=this._self._c;return t("div",{staticClass:"m-publish-header"},[t("el-page-header",{attrs:{content:this.name},on:{back:this.goBack}}),this._t("default")],2)}),[],!1,null,null,null);e.a=a.exports}}]);
//# sourceMappingURL=chunk-2d80b045.55543c4d.js.map
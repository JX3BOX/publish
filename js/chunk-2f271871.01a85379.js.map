{"version":3,"sources":["webpack:///./src/post/collection.vue?ebc7","webpack:///./src/service/collection.js","webpack:///./src/components/publish_banner.vue?9059","webpack:///./src/components/publish_banner.vue","webpack:///./src/components/publish_banner.vue?4ba1","webpack:///src/components/publish_banner.vue","webpack:///./src/components/publish_banner.vue?507e","webpack:///./src/components/publish_header.vue?4823","webpack:///./src/components/publish_header.vue?6f8c","webpack:///src/components/publish_header.vue","webpack:///./src/components/publish_header.vue?3a87","webpack:///./src/components/publish_header.vue","webpack:///./src/post/collection.vue?ab1c","webpack:///src/post/collection.vue","webpack:///./src/post/collection.vue?5d07","webpack:///./src/post/collection.vue"],"names":["get_my_collections","params","$cms","method","url","createCollection","data","post","updateCollection","id","put","concat","remove_collection","collection_id","delete","appendToCollection","post_type","post_id","post_collection","title","post_title","getCollectionRaw","name","components","uploadImage","props","type","String","default","size","Array","Number","info","banner","model","prop","event","watch","newval","$emit","component","_vm","this","_c","_self","staticClass","attrs","_v","value","callback","$$v","expression","computed","methods","goBack","window","history","length","$router","go","push","mounted","on","_t","source_types","Object","assign","custom","__postType","jx3dat","notice","public","CollectionPublic","collection","image","description","tags","posts","tag","legal_tags","show_description","processing","onlyMine","$route","tags_filters","query","_step","output","_iterator","_createForOfIteratorHelper","s","n","done","split","err","e","f","title_fill","item","add_posts_item","search_handle","queryString","getMyPosts","then","res","_res$data$data$list","list","reduce","acc","cur","ID","getAllPosts","_res$data$data$list2","init","_this","i","$message","message","submit","_this2","JSON","parse","stringify","forEach","index","sort","fn","lodash","pick","omit","setTimeout","location","href","getLink","finally","showPostType","immediate","handler","val","Tinymce","draggable","header","publish_banner","$set","PUBLIC","_n","PRIVATE","staticStyle","_l","key","$event","splice","k","visible","_s","_e","trim","directives","rawName"],"mappings":"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","file":"js/chunk-2f271871.01a85379.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection.vue?vue&type=style&index=0&id=f0cc40f8&prod&scoped=true&lang=less\"","import { $cms } from \"@jx3box/jx3box-common/js/https.js\";\n\nfunction get_my_collections(params) {\n    return $cms()({\n        method: \"GET\",\n        url: `/api/cms/post/collection/mine`,\n        params: params,\n    });\n}\n\n\nfunction createCollection(data){\n    return $cms().post(`/api/cms/post/collection`, data);\n}\n\nfunction updateCollection(id, data){\n    return $cms().put(`/api/cms/post/collection/${id}`, data);\n}\n\nfunction remove_collection(collection_id) {\n    return $cms().delete(`/api/cms/post/collection/${collection_id}`);\n}\n\nfunction appendToCollection(data) {\n    return $cms().post(`/api/cms/post/${data.post_type}-${data.post_id}/append-to-collection/${data.post_collection}`, {\n        title: data.post_title,\n    });\n}\n\nfunction getCollectionRaw(collection_id) {\n    return $cms()({\n        method: \"GET\",\n        url: `/api/cms/post/collection/${collection_id}/raw`,\n    });\n}\n\nexport { get_my_collections, remove_collection, appendToCollection, createCollection, updateCollection, getCollectionRaw };\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_banner.vue?vue&type=style&index=0&id=15ae7f8a&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-publish-banner\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"Êµ∑Êä•\")]),_c('uploadImage',{attrs:{\"info\":_vm.info,\"max-size\":30,\"size\":_vm.size},model:{value:(_vm.banner),callback:function ($$v) {_vm.banner=$$v},expression:\"banner\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_banner.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_banner.vue?vue&type=script&lang=js\"","<template>\n    <div class=\"m-publish-banner\">\n        <el-divider content-position=\"left\">Êµ∑Êä•</el-divider>\n        <uploadImage v-model=\"banner\" :info=\"info\" :max-size=\"30\" :size=\"size\"></uploadImage>\n    </div>\n</template>\n\n<script>\nimport uploadImage from '@jx3box/jx3box-common-ui/src/upload/upload_banner.vue'\n\nexport default {\n    name: \"post_banner\",\n    components: {\n        uploadImage\n    },\n    props: {\n        data: {\n            type: String,\n            default: \"\",\n        },\n        size: {\n            type: [Array, Number],\n            default: 148,\n        },\n        info: {\n            type: String,\n            default: \"ÈùûÂøÖÈÄâ„ÄÇÈ¶ñÈ°µÊµ∑Êä•Â∞∫ÂØ∏1600*280ÔºàÊé®Ëçê3200*560ÊîØÊåÅÈ´òÂàÜÂ±èÔºâÔºåÊúÄÂ§ß30M„ÄÇ\",\n        },\n    },\n    data() {\n        return {\n            banner: this.data,\n        };\n    },\n    model: {\n        prop: \"data\",\n        event: \"update\",\n    },\n    watch: {\n        data : function (newval){\n            this.banner = newval\n        },\n        banner: function(newval) {\n            this.$emit(\"update\", newval);\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n.m-publish-banner {\n    .u-tip{\n        padding:5px 15px;\n    }\n    img {\n        max-width: 180px;\n    }\n    .avatar-uploader{\n        .mt(10px);\n    }\n    .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    .avatar-uploader .el-upload:hover {\n        border-color: #409eff;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 180px;\n        height: 100px;\n        line-height: 100px;\n        text-align: center;\n    }\n    .u-remove{\n        background-color: #c2c2c2;\n        border-color:#c2c2c2;\n        &:hover{\n            background-color: #fc3c3c;\n            border-color:#fc3c3c;\n        }\n    }\n}\n</style>\n","import { render, staticRenderFns } from \"./publish_banner.vue?vue&type=template&id=15ae7f8a\"\nimport script from \"./publish_banner.vue?vue&type=script&lang=js\"\nexport * from \"./publish_banner.vue?vue&type=script&lang=js\"\nimport style0 from \"./publish_banner.vue?vue&type=style&index=0&id=15ae7f8a&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_header.vue?vue&type=style&index=0&id=36319e52&prod&lang=less\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_header.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_header.vue?vue&type=script&lang=js\"","<template>\n    <div class=\"m-publish-header\">\n        <el-page-header @back=\"goBack\" :content=\"name\"></el-page-header>\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"publish_header\",\n    props: [\"name\"],\n    data: function() {\n        return {\n        };\n    },\n    computed: {},\n    methods: {\n        goBack: function() {\n            if(window.history.length){\n                this.$router.go(-1);\n            }else{\n                this.$router.push('/')\n            }\n        },\n    },\n    mounted: function() {},\n    components: {\n    },\n};\n</script>\n\n<style lang=\"less\">\n    .m-publish-header{\n        .pr;\n    }\n    \n</style>","import { render, staticRenderFns } from \"./publish_header.vue?vue&type=template&id=36319e52\"\nimport script from \"./publish_header.vue?vue&type=script&lang=js\"\nexport * from \"./publish_header.vue?vue&type=script&lang=js\"\nimport style0 from \"./publish_header.vue?vue&type=style&index=0&id=36319e52&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-publish-header\"},[_c('el-page-header',{attrs:{\"content\":_vm.name},on:{\"back\":_vm.goBack}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection.vue?vue&type=script&lang=js\"","<template>\n    <div class=\"m-publish-box\">\n        <!-- Â§¥ÈÉ® -->\n        <publish-header name=\"Ââë‰∏âÂ∞èÂÜå\" :localDraft=\"false\">\n            <slot name=\"header\"></slot>\n        </publish-header>\n\n        <el-form label-position=\"left\" class=\"m-publish-collection\">\n            <!-- üíõ Ê†èÁõÆÂ≠óÊÆµ -->\n            <div class=\"m-publish-title\">\n                <el-divider content-position=\"left\">Ê†áÈ¢ò</el-divider>\n                <el-input\n                    v-model=\"collection.title\"\n                    placeholder=\"ËØ∑ËæìÂÖ•Â∞èÂÜåÊ†áÈ¢ò\"\n                    maxlength=\"30\"\n                    show-word-limit\n                ></el-input>\n            </div>\n\n            <div class=\"m-publish-primary\">\n                <div class=\"m-publish-primary-block\">\n                    <el-divider content-position=\"left\">ÂèØËßÅÊÄß</el-divider>\n                    <el-radio v-model.number=\"collection.public\" :label=\"this.public.PUBLIC\">ÂÖ¨ÂºÄ</el-radio>\n                    <el-radio v-model.number=\"collection.public\" :label=\"this.public.PRIVATE\">ÁßÅÊúâ</el-radio>\n                    <el-tooltip content=\"ÁßÅÊúâ‰ªÖ‰ΩøËØ•Â∞èÂÜå‰∏çÂá∫Áé∞Âú®ÂÖ¨ÂºÄÂ∞èÂÜåÂ§ßÂéÖ‰∏≠\" placement=\"top\">\n                        <i class=\"el-icon-info\"></i>\n                    </el-tooltip>\n                </div>\n                <div class=\"m-publish-primary-block m-publish-collection-posts\">\n                    <el-divider content-position=\"left\"\n                        >ÂÜÖÂÆπ\n                        <el-checkbox v-model=\"onlyMine\" style=\"margin-left: 12px\"\n                            >‰ªÖ‰ªéËá™Â∑±‰ΩúÂìÅ‰∏≠</el-checkbox\n                        ></el-divider\n                    >\n                    <draggable\n                        class=\"m-list-style\"\n                        tag=\"ul\"\n                        v-if=\"collection.posts && collection.posts.length\"\n                        :list=\"collection.posts\"\n                        handle=\".u-move\"\n                    >\n                        <li v-for=\"(item, key) in collection.posts\" :key=\"key\" class=\"c-posts-item\">\n                            <i class=\"u-move el-icon-more\"></i>\n                            <i class=\"u-delete el-icon-close\" @click=\"collection.posts.splice(key, 1)\"></i>\n                            <el-row class=\"m-posts-item\" :gutter=\"10\">\n                                <el-col :span=\"4\" class=\"u-collection-type\">\n                                    <el-select class=\"u-item-key\" v-model=\"item.type\" placeholder=\"ËØ∑ÈÄâÊã©‰ΩúÂìÅÁ±ªÂûã\">\n                                        <el-option\n                                            v-for=\"(type, k) in source_types\"\n                                            :label=\"type\"\n                                            :key=\"k\"\n                                            :value=\"k\"\n                                        ></el-option>\n                                    </el-select>\n                                </el-col>\n                                <el-col :span=\"8\" class=\"u-collection-id\">\n                                    <el-select\n                                        v-if=\"item.type !== 'custom'\"\n                                        class=\"u-item-value\"\n                                        v-model=\"item.id\"\n                                        filterable\n                                        remote\n                                        placeholder=\"ÈÄöËøáËæìÂÖ•‰ΩúÂìÅÊ†áÈ¢òËøõË°åÊêúÁ¥¢\"\n                                        :remote-method=\"\n                                            (query) => {\n                                                search_handle(query, item);\n                                            }\n                                        \"\n                                        @change=\"\n                                            (post_id) => {\n                                                title_fill(post_id, item);\n                                            }\n                                        \"\n                                        :disabled=\"!item.type\"\n                                        @visible-change=\"\n                                            (visible) => {\n                                                if (visible) {\n                                                    search_handle(null, item);\n                                                }\n                                            }\n                                        \"\n                                    >\n                                        <template v-for=\"post in item.posts\">\n                                            <el-option\n                                                v-if=\"post.id && post.title\"\n                                                :key=\"post.id\"\n                                                :value=\"post.id\"\n                                                :label=\"post.title\"\n                                            >\n                                                <div>\n                                                    <el-tag size=\"small\" v-if=\"post.post_type\">{{\n                                                        showPostType(post.post_type)\n                                                    }}</el-tag>\n                                                    {{ post.title }}\n                                                </div>\n                                            </el-option>\n                                        </template>\n                                    </el-select>\n                                    <el-input\n                                        class=\"u-item-value\"\n                                        placeholder=\"ËØ∑ËæìÂÖ•ÂÆåÊï¥ÁΩëÈ°µÈìæÊé•ÔºàÈúÄ‰ª•HTTPÊàñHTTPSÂºÄÂ§¥Ôºâ\"\n                                        v-else\n                                        v-model.trim=\"item.url\"\n                                    ></el-input>\n                                </el-col>\n                                <el-col :span=\"12\" class=\"u-collection-url\" v-if=\"item.url\">\n                                    <el-input v-model=\"item.title\" placeholder=\"ËØ∑ËæìÂÖ•Ëá™ÂÆö‰πâÊ†áÈ¢ò\"></el-input>\n                                </el-col>\n                            </el-row>\n                        </li>\n                    </draggable>\n                    <div v-else class=\"u-posts-items-empty\">ÊöÇÊó†‰ΩúÂìÅ‰ø°ÊÅØÔºåËØ∑ËøõË°å‰ΩúÂìÅÊ∑ªÂä†</div>\n                    <div class=\"u-posts-add\" @click=\"add_posts_item\">\n                        <i class=\"el-icon-plus\"></i>\n                        <span>Ê∑ªÂä†‰ΩúÂìÅ</span>\n                    </div>\n                </div>\n\n                <div class=\"m-publish-primary-block m-publish-description\">\n                    <el-divider content-position=\"left\" @click=\"show_description = !show_description\"\n                        >ÊèèËø∞ÔºàÈÄâÂ°´Ôºâ</el-divider\n                    >\n                    <span v-if=\"!show_description\" @click=\"show_description = true\" class=\"u-show\">‚ñº Â±ïÂºÄ</span>\n                    <span v-if=\"show_description\" @click=\"show_description = false\" class=\"u-hide\">‚ñ≤ Êî∂Ëµ∑</span>\n                    <Tinymce\n                        v-show=\"show_description\"\n                        v-model=\"collection.description\"\n                        :attachmentEnable=\"true\"\n                        :resourceEnable=\"true\"\n                        :height=\"300\"\n                    />\n                </div>\n\n                <!-- ÂÖ∂ÂÆÉ -->\n                <div class=\"m-publish-other\">\n                    <publish-banner\n                        v-model=\"collection.image\"\n                        :size=\"[128, 168]\"\n                        info=\"Â∞èÂÜåÁöÑÂ∞ÅÈù¢Â∞∫ÂØ∏‰∏∫ 372 * 532 ÔºåÊîØÊåÅJPG,PNG‰∏ä‰º†\"\n                    ></publish-banner>\n                </div>\n            </div>\n            <div class=\"m-publish-collection-publish\">\n                <el-button class=\"u-button\" type=\"primary\" @click=\"submit\" :loading=\"processing\" :disabled=\"processing\"\n                    >Âèë &nbsp;&nbsp; Â∏É</el-button\n                >\n            </div>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport { __Root, __postType, __wikiType, __appType } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport Tinymce from \"@jx3box/jx3box-editor/src/Tinymce\";\nimport CollectionPublic from \"@jx3box/jx3box-editor/service/enum/CollectionPublic\";\nimport header from \"@/components/publish_header.vue\";\nimport publish_banner from \"@/components/publish_banner.vue\";\nimport draggable from \"vuedraggable\";\n\n// Êú¨Âú∞‰æùËµñ\nimport { createCollection, updateCollection, getCollectionRaw } from \"../service/collection\";\n// import { get_posts_by_type } from \"../service/post\";\nimport { getMyPosts, getAllPosts } from \"@/service/cms\";\n// import { getAllFaceList } from \"@/service/face\";\nimport { getLink } from \"@jx3box/jx3box-common/js/utils\";\nimport lodash from \"lodash\";\n\nexport default {\n    name: \"collection\",\n    props: [],\n    data() {\n        // ‰ΩúÂìÅÁ±ªÂûãÂä†ËΩΩ\n        let source_types = Object.assign({ custom: \"Ëá™ÂÆö‰πâ\" }, __postType);\n        delete source_types.jx3dat;\n        delete source_types.notice;\n\n        return {\n            source_types: source_types,\n            public: CollectionPublic,\n            // Ââë‰∏âÂ∞èÂÜå‰∏ª‰Ωì\n            collection: {\n                id: \"\",\n                title: \"\",\n                public: 1,\n                image: \"\",\n                description: \"\",\n                tags: [],\n                posts: [],\n            },\n            tag: \"\",\n            legal_tags: null,\n            show_description: true,\n            processing: false,\n\n            onlyMine: true,\n        };\n    },\n    computed: {\n        id: function () {\n            return this.$route.params.collection_id;\n        },\n    },\n    methods: {\n        tags_filters(query) {\n            let output = [];\n            for (let tag of this.legal_tags) {\n                if (tag.split(query).length > 1) output.push({ value: tag });\n            }\n            return output;\n        },\n        // Â∏ñÂ≠êÊ†áÈ¢òÂ°´ÂÖÖ\n        title_fill(post_id, item) {\n            let post = item.posts[post_id];\n            item.title = post && post.title ? post.title : \"\";\n            item.post_type = post && post.post_type ? post.post_type : \"\";\n        },\n        add_posts_item() {\n            this.collection.posts.push({\n                title: \"\",\n                type: \"\",\n                id: \"\",\n                url: \"\",\n                posts: null,\n                post_type: \"\",\n            });\n        },\n        search_handle(queryString, item) {\n            if (queryString === null) item.id = queryString = \"\";\n            // if (item.type === 'face') {\n            //     getAllFaceList({\n            //         title: queryString,\n\n            //     }).then(res => {\n            //         item.posts = res.data.data.list?.reduce((acc, cur) => {\n            //             acc[cur.id] = {\n            //                 id: cur.id,\n            //                 title: cur.title,\n            //                 type: 'face'\n            //             }\n            //             return acc\n            //         }, {}) || {};\n            //     })\n            // }\n            if (this.onlyMine) {\n                const params = {};\n                if (queryString) {\n                    params.title = queryString;\n                }\n                item.type !== \"custom\" && (params.type = item.type);\n                getMyPosts(params).then((res) => {\n                    item.posts =\n                        res.data.data.list?.reduce((acc, cur) => {\n                            acc[cur.ID] = {\n                                id: cur.ID,\n                                title: cur.post_title,\n                                post_type: cur.post_type,\n                            };\n                            return acc;\n                        }, {}) || {};\n                });\n            } else {\n                const params = {};\n                if (queryString) {\n                    params.title = queryString;\n                }\n                item.type !== \"custom\" && (params.type = item.type);\n                getAllPosts(params).then((res) => {\n                    item.posts =\n                        res.data.data.list?.reduce((acc, cur) => {\n                            acc[cur.ID] = {\n                                id: cur.ID,\n                                title: cur.post_title,\n                                post_type: cur.post_type,\n                            };\n                            return acc;\n                        }, {}) || {};\n                });\n            }\n        },\n        init: function () {\n            getCollectionRaw(this.id).then((res) => {\n                let collection = res.data.data;\n                if (collection) {\n                    for (let i in collection.posts) {\n                        let item = collection.posts[i];\n                        collection.posts[i].posts =\n                            item.type === \"custom\"\n                                ? null\n                                : [{ id: item.id, title: item.title, post_type: item.post_type }];\n                        // if (!['mine','all','custom'].includes(item.type)) {\n                        //     item.type = 'all';\n                        //     item.post_type = item.post_type;\n                        // }\n                    }\n                    this.collection = collection;\n                } else {\n                    this.$message({\n                        message: \"ËØ•Ââë‰∏âÂ∞èÂÜåÂ∑≤Ë¢´Âà†Èô§ÊàñÊó†ÊùÉÈôêËÆøÈóÆ\",\n                        type: \"warning\",\n                    });\n                }\n            });\n        },\n        submit: function () {\n            let collection = JSON.parse(JSON.stringify(this.collection));\n\n            if (!collection.posts) {\n                collection.posts = [];\n            }\n\n            // Ê†°È™åposts\n            let message = \"\";\n            for (const i in collection.posts) {\n                const item = collection.posts[i];\n                if (!item.type) {\n                    message = \"ÊñáÁ´†Á±ªÂûã‰∏çËÉΩ‰∏∫Á©∫Âì¶\";\n                    break;\n                }\n                if (item.type === \"custom\") {\n                    if (!item.url) {\n                        message = \"ËØ∑Â°´ÂÜôÊ≠£Á°ÆÁöÑÂ∞èÂÜåÊñáÁ´†ÈìæÊé•ÔºàhttpÊàñhttpsÂºÄÂ§¥Ôºâ\";\n                        break;\n                    }\n                    if (!item.title) {\n                        message = \"ËØ∑Â°´ÂÜôËá™ÂÆö‰πâÈìæÊé•ÁöÑÊ†áÈ¢ò\";\n                        break;\n                    }\n                } else {\n                    if (!item.id) {\n                        message = \"ËØ∑ÈÄâÊã©ÂØπÂ∫îÁöÑÊñáÁ´†\";\n                        break;\n                    }\n                }\n            }\n            // Êõ¥Êñ∞sortÂ≠óÊÆµ\n            collection.posts.forEach((item, index) => {\n                item.sort = index;\n            });\n            if (message) {\n                this.$message({\n                    message: message,\n                    type: \"warning\",\n                });\n                return;\n            }\n\n            // ÂéªÈô§Â§ö‰ΩôÂ≠óÊÆµ\n            for (let i in collection.posts) delete collection.posts[i].posts;\n            collection.posts = JSON.stringify(collection.posts);\n\n            this.processing = true;\n            let fn = \"\";\n            if (this.id) {\n                collection = lodash.pick(collection, [\"title\", \"public\", \"image\", \"description\", \"mark\", \"posts\"]);\n                fn = updateCollection(this.id, collection);\n            } else {\n                collection = lodash.omit(collection, [\"id\", \"tags\"]);\n                fn = createCollection(collection);\n            }\n            fn.then((res) => {\n                this.$message({\n                    message: this.id ? \"Êõ¥Êñ∞ÊàêÂäü\" : \"ÂàõÂª∫ÊàêÂäü\",\n                    type: \"success\",\n                });\n                let id = this.id || res.data.data.id;\n                setTimeout(() => {\n                    location.href = getLink(\"collection\", id);\n                }, 500);\n            }).finally(() => {\n                this.processing = false;\n            });\n        },\n\n        showPostType: function (type) {\n            return __postType[type];\n        },\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler: function (val) {\n                val && this.init();\n                // if (!val) {\n                //     this.source_types = {\n                //         mine: 'ÊàëÁöÑ‰ΩúÂìÅ',\n                //         all: 'ÂÖ®ÈÉ®‰ΩúÂìÅ',\n                //         custom: 'Ëá™ÂÆö‰πâ',\n                //     }\n                // }\n            },\n        },\n    },\n    components: {\n        Tinymce,\n        draggable,\n        \"publish-header\": header,\n        \"publish-banner\": publish_banner,\n    },\n};\n</script>\n\n<style scoped lang=\"less\">\n@import \"../assets/css/collection.less\";\n</style>\n","import { render, staticRenderFns } from \"./collection.vue?vue&type=template&id=f0cc40f8&scoped=true\"\nimport script from \"./collection.vue?vue&type=script&lang=js\"\nexport * from \"./collection.vue?vue&type=script&lang=js\"\nimport style0 from \"./collection.vue?vue&type=style&index=0&id=f0cc40f8&prod&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0cc40f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-publish-box\"},[_c('publish-header',{attrs:{\"name\":\"Ââë‰∏âÂ∞èÂÜå\",\"localDraft\":false}},[_vm._t(\"header\")],2),_c('el-form',{staticClass:\"m-publish-collection\",attrs:{\"label-position\":\"left\"}},[_c('div',{staticClass:\"m-publish-title\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"Ê†áÈ¢ò\")]),_c('el-input',{attrs:{\"placeholder\":\"ËØ∑ËæìÂÖ•Â∞èÂÜåÊ†áÈ¢ò\",\"maxlength\":\"30\",\"show-word-limit\":\"\"},model:{value:(_vm.collection.title),callback:function ($$v) {_vm.$set(_vm.collection, \"title\", $$v)},expression:\"collection.title\"}})],1),_c('div',{staticClass:\"m-publish-primary\"},[_c('div',{staticClass:\"m-publish-primary-block\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"ÂèØËßÅÊÄß\")]),_c('el-radio',{attrs:{\"label\":this.public.PUBLIC},model:{value:(_vm.collection.public),callback:function ($$v) {_vm.$set(_vm.collection, \"public\", _vm._n($$v))},expression:\"collection.public\"}},[_vm._v(\"ÂÖ¨ÂºÄ\")]),_c('el-radio',{attrs:{\"label\":this.public.PRIVATE},model:{value:(_vm.collection.public),callback:function ($$v) {_vm.$set(_vm.collection, \"public\", _vm._n($$v))},expression:\"collection.public\"}},[_vm._v(\"ÁßÅÊúâ\")]),_c('el-tooltip',{attrs:{\"content\":\"ÁßÅÊúâ‰ªÖ‰ΩøËØ•Â∞èÂÜå‰∏çÂá∫Áé∞Âú®ÂÖ¨ÂºÄÂ∞èÂÜåÂ§ßÂéÖ‰∏≠\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-info\"})])],1),_c('div',{staticClass:\"m-publish-primary-block m-publish-collection-posts\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"ÂÜÖÂÆπ \"),_c('el-checkbox',{staticStyle:{\"margin-left\":\"12px\"},model:{value:(_vm.onlyMine),callback:function ($$v) {_vm.onlyMine=$$v},expression:\"onlyMine\"}},[_vm._v(\"‰ªÖ‰ªéËá™Â∑±‰ΩúÂìÅ‰∏≠\")])],1),(_vm.collection.posts && _vm.collection.posts.length)?_c('draggable',{staticClass:\"m-list-style\",attrs:{\"tag\":\"ul\",\"list\":_vm.collection.posts,\"handle\":\".u-move\"}},_vm._l((_vm.collection.posts),function(item,key){return _c('li',{key:key,staticClass:\"c-posts-item\"},[_c('i',{staticClass:\"u-move el-icon-more\"}),_c('i',{staticClass:\"u-delete el-icon-close\",on:{\"click\":function($event){return _vm.collection.posts.splice(key, 1)}}}),_c('el-row',{staticClass:\"m-posts-item\",attrs:{\"gutter\":10}},[_c('el-col',{staticClass:\"u-collection-type\",attrs:{\"span\":4}},[_c('el-select',{staticClass:\"u-item-key\",attrs:{\"placeholder\":\"ËØ∑ÈÄâÊã©‰ΩúÂìÅÁ±ªÂûã\"},model:{value:(item.type),callback:function ($$v) {_vm.$set(item, \"type\", $$v)},expression:\"item.type\"}},_vm._l((_vm.source_types),function(type,k){return _c('el-option',{key:k,attrs:{\"label\":type,\"value\":k}})}),1)],1),_c('el-col',{staticClass:\"u-collection-id\",attrs:{\"span\":8}},[(item.type !== 'custom')?_c('el-select',{staticClass:\"u-item-value\",attrs:{\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"ÈÄöËøáËæìÂÖ•‰ΩúÂìÅÊ†áÈ¢òËøõË°åÊêúÁ¥¢\",\"remote-method\":(query) => {\n                                            _vm.search_handle(query, item);\n                                        },\"disabled\":!item.type},on:{\"change\":(post_id) => {\n                                            _vm.title_fill(post_id, item);\n                                        },\"visible-change\":(visible) => {\n                                            if (visible) {\n                                                _vm.search_handle(null, item);\n                                            }\n                                        }},model:{value:(item.id),callback:function ($$v) {_vm.$set(item, \"id\", $$v)},expression:\"item.id\"}},[_vm._l((item.posts),function(post){return [(post.id && post.title)?_c('el-option',{key:post.id,attrs:{\"value\":post.id,\"label\":post.title}},[_c('div',[(post.post_type)?_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(_vm.showPostType(post.post_type)))]):_vm._e(),_vm._v(\" \"+_vm._s(post.title)+\" \")],1)]):_vm._e()]})],2):_c('el-input',{staticClass:\"u-item-value\",attrs:{\"placeholder\":\"ËØ∑ËæìÂÖ•ÂÆåÊï¥ÁΩëÈ°µÈìæÊé•ÔºàÈúÄ‰ª•HTTPÊàñHTTPSÂºÄÂ§¥Ôºâ\"},model:{value:(item.url),callback:function ($$v) {_vm.$set(item, \"url\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"item.url\"}})],1),(item.url)?_c('el-col',{staticClass:\"u-collection-url\",attrs:{\"span\":12}},[_c('el-input',{attrs:{\"placeholder\":\"ËØ∑ËæìÂÖ•Ëá™ÂÆö‰πâÊ†áÈ¢ò\"},model:{value:(item.title),callback:function ($$v) {_vm.$set(item, \"title\", $$v)},expression:\"item.title\"}})],1):_vm._e()],1)],1)}),0):_c('div',{staticClass:\"u-posts-items-empty\"},[_vm._v(\"ÊöÇÊó†‰ΩúÂìÅ‰ø°ÊÅØÔºåËØ∑ËøõË°å‰ΩúÂìÅÊ∑ªÂä†\")]),_c('div',{staticClass:\"u-posts-add\",on:{\"click\":_vm.add_posts_item}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('span',[_vm._v(\"Ê∑ªÂä†‰ΩúÂìÅ\")])])],1),_c('div',{staticClass:\"m-publish-primary-block m-publish-description\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"},on:{\"click\":function($event){_vm.show_description = !_vm.show_description}}},[_vm._v(\"ÊèèËø∞ÔºàÈÄâÂ°´Ôºâ\")]),(!_vm.show_description)?_c('span',{staticClass:\"u-show\",on:{\"click\":function($event){_vm.show_description = true}}},[_vm._v(\"‚ñº Â±ïÂºÄ\")]):_vm._e(),(_vm.show_description)?_c('span',{staticClass:\"u-hide\",on:{\"click\":function($event){_vm.show_description = false}}},[_vm._v(\"‚ñ≤ Êî∂Ëµ∑\")]):_vm._e(),_c('Tinymce',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_description),expression:\"show_description\"}],attrs:{\"attachmentEnable\":true,\"resourceEnable\":true,\"height\":300},model:{value:(_vm.collection.description),callback:function ($$v) {_vm.$set(_vm.collection, \"description\", $$v)},expression:\"collection.description\"}})],1),_c('div',{staticClass:\"m-publish-other\"},[_c('publish-banner',{attrs:{\"size\":[128, 168],\"info\":\"Â∞èÂÜåÁöÑÂ∞ÅÈù¢Â∞∫ÂØ∏‰∏∫ 372 * 532 ÔºåÊîØÊåÅJPG,PNG‰∏ä‰º†\"},model:{value:(_vm.collection.image),callback:function ($$v) {_vm.$set(_vm.collection, \"image\", $$v)},expression:\"collection.image\"}})],1)]),_c('div',{staticClass:\"m-publish-collection-publish\"},[_c('el-button',{staticClass:\"u-button\",attrs:{\"type\":\"primary\",\"loading\":_vm.processing,\"disabled\":_vm.processing},on:{\"click\":_vm.submit}},[_vm._v(\"Âèë ¬†¬† Â∏É\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}
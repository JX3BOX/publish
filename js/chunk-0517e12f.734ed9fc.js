(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0517e12f"],{"41a2":function(t,n,c){"use strict";c.r(n);c("fb6a"),c("d3b7");var i=c("221a"),e=c("ef77"),o=c("81fc"),a=c("2ef0"),u={name:"community_reply",components:{Tinymce:i.a,"publish-header":e.a},computed:{id:function(){return this.$route.params.id}},data:function(){return{data:{content:""},loading:!1,processing:!1}},watch:{id:{immediate:!0,handler:function(t){t&&this.loadData()}}},methods:{loadData:function(){var t=this;this.loading=!0,Object(o.g)(this.id).then((function(n){t.data=n.data.data})).finally((function(){t.loading=!1}))},onSubmit:function(){var t=this;this.processing=!0;var n=Object(a.pick)(this.data,["content"]);Object(o.l)(this.id,n).then((function(){t.$message({message:"更新回帖成功",type:"success"}),setTimeout((function(){var n;location.href="/community/".concat(null===(n=t.data)||void 0===n?void 0:n.topic_id)}),500)})).finally((function(){t.processing=!1}))},getContent:function(t){var n,c,i=null==t||null===(n=t.topic)||void 0===n||null===(c=n.title)||void 0===c?void 0:c.slice(0,30);return i?"回复：".concat(i):""}}},s=c("2877"),r=Object(s.a)(u,(function(){var t=this,n=t._self._c;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-publish-box"},[n("publish-header",{attrs:{name:"".concat(t.getContent(t.data))}}),n("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[n("div",{staticClass:"m-publish-content"},[n("el-divider",{attrs:{"content-position":"left"}},[t._v("回帖内容")]),n("Tinymce",{attrs:{attachmentEnable:!0,resourceEnable:!0},model:{value:t.data.content,callback:function(n){t.$set(t.data,"content",n)},expression:"data.content"}})],1),n("div",{staticClass:"m-publish-buttons"},[n("el-button",{attrs:{type:"primary",disabled:t.processing},on:{click:t.onSubmit}},[t._v("更    新")])],1)])],1)}),[],!1,null,null,null);n.default=r.exports},"81fc":function(t,n,c){"use strict";c.d(n,"j",(function(){return e})),c.d(n,"f",(function(){return a})),c.d(n,"d",(function(){return r})),c.d(n,"a",(function(){return u})),c.d(n,"i",(function(){return s})),c.d(n,"k",(function(){return o})),c.d(n,"h",(function(){return d})),c.d(n,"g",(function(){return l})),c.d(n,"c",(function(){return m})),c.d(n,"l",(function(){return p})),c.d(n,"e",(function(){return f})),c.d(n,"b",(function(){return b}));c("99af");var i=c("41cb");function e(t){return Object(i.c)().post("".concat("/api/next2","/community/discussion/topic"),t)}function o(t,n){return Object(i.c)().put("".concat("/api/next2","/community/discussion/my/topic/item/").concat(t),n)}function a(t){return Object(i.c)().get("".concat("/api/next2","/community/discussion/my/topic/list"),{params:t})}function u(t){return Object(i.c)().delete("".concat("/api/next2","/community/discussion/my/topic/item/").concat(t))}function s(t){return Object(i.c)().get("".concat("/api/next2","/community/discussion/my/topic/item/").concat(t))}function r(t){return Object(i.c)().get("".concat("/api/next2","/community/discussion/topic/list"),{params:t})}function d(t){return Object(i.c)().get("".concat("/api/next2","/community/discussion/my/reply/list"),{params:t})}function l(t){return Object(i.c)().get("".concat("/api/next2","/community/discussion/my/reply/item/").concat(t))}function m(t){return Object(i.c)().delete("".concat("/api/next2","/community/discussion/my/reply/item/").concat(t))}function p(t,n){return Object(i.c)().put("".concat("/api/next2","/community/discussion/my/reply/item/").concat(t),n)}function f(t){return Object(i.c)().get("".concat("/api/next2","/community/discussion/my/comment/list"),{params:t})}function b(t){return Object(i.c)().delete("".concat("/api/next2","/community/discussion/my/comment/item/").concat(t))}},b3aa:function(t,n,c){},b4e5:function(t,n,c){"use strict";c("b3aa")},ef77:function(t,n,c){"use strict";c("b0c0"),c("14d9");var i={name:"publish_header",props:["name"],data:function(){return{}},computed:{},methods:{goBack:function(){window.history.length?this.$router.go(-1):this.$router.push("/")}},mounted:function(){},components:{}},e=(c("b4e5"),c("2877")),o=Object(e.a)(i,(function(){var t=this._self._c;return t("div",{staticClass:"m-publish-header"},[t("el-page-header",{attrs:{content:this.name},on:{back:this.goBack}}),this._t("default")],2)}),[],!1,null,null,null);n.a=o.exports}}]);
//# sourceMappingURL=chunk-0517e12f.734ed9fc.js.map
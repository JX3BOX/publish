{"version":3,"sources":["webpack:///./src/views/draft.vue?b99b","webpack:///src/views/draft.vue","webpack:///./src/views/draft.vue?c12a","webpack:///./src/views/draft.vue","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/draft.vue?02b5"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","isNotNull","on","clean","_v","_l","item","i","key","$event","preview","class","active","_s","directives","name","rawName","value","expression","arg","stopPropagation","del","slot","data","_e","staticRenderFns","component","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","arguments","length","undefined","fails","METHOD_NAME","argument","method","call"],"mappings":"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","file":"js/chunk-8e40e2e8.34aff85c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-publish m-bucket\"},[_c('div',{staticClass:\"m-bucket-header\"},[_vm._m(0),_c('div',{staticClass:\"u-op\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\",\"icon\":\"el-icon-delete\",\"size\":\"small\",\"disabled\":!_vm.isNotNull},on:{\"click\":_vm.clean}},[_vm._v(\"清空\")])],1)]),(_vm.isSupported)?[_c('div',{staticClass:\"m-bucket-warning\"},[_c('el-alert',{attrs:{\"title\":\"以下草稿为编辑器为该浏览器产生的临时本地草稿HTML源码，并不存在于服务器中，仅用于断网或窗口异常关闭时恢复。\",\"type\":\"warning\",\"show-icon\":\"\"}})],1),(_vm.isNotNull)?_c('div',{staticClass:\"m-bucket-list\"},[_c('ul',{staticClass:\"u-list\"},_vm._l((_vm.data),function(item,i){return _c('li',{key:i,staticClass:\"u-item\",on:{\"click\":function($event){return _vm.preview(item)}}},[_c('div',{staticClass:\"u-label\",class:{on:!!item.active}},[_c('i',{staticClass:\"u-item-icon\",class:!!item.active ? 'el-icon-folder-opened' : 'el-icon-folder'}),_c('span',{staticClass:\"u-item-key\"},[_vm._v(_vm._s(item.key))]),_c('div',{staticClass:\"u-op\"},[_c('el-button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(item.data),expression:\"item.data\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:(_vm.onCopy),expression:\"onCopy\",arg:\"success\"},{name:\"clipboard\",rawName:\"v-clipboard:error\",value:(_vm.onError),expression:\"onError\",arg:\"error\"}],staticClass:\"u-delete\",attrs:{\"type\":\"info\",\"icon\":\"el-icon-document-copy\",\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"复制\")]),_c('el-popconfirm',{attrs:{\"title\":\"确定删除吗？\"},on:{\"confirm\":function($event){return _vm.del(item,i)}}},[_c('el-button',{staticClass:\"u-delete\",attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();}},slot:\"reference\"},[_vm._v(\"删除\")])],1)],1)]),(!!item.active)?_c('div',{staticClass:\"u-value\"},[_c('div',{staticClass:\"u-content\"},[_vm._v(_vm._s(item.data))])]):_vm._e()])}),0)]):_c('div',{staticClass:\"m-bucket-null\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" 暂无任何内容 \")])]:[_c('el-alert',{attrs:{\"title\":\"您的浏览器太旧了，不支持本功能。\",\"type\":\"error\",\"show-icon\":\"\"}})]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"m-title\"},[_c('i',{staticClass:\"el-icon-receiving\"}),_vm._v(\" 草稿箱 \"),_c('a',{staticClass:\"u-help\",attrs:{\"href\":\"/tool/21933\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-question\"}),_vm._v(\" 使用帮助 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-publish m-bucket\">\n        <div class=\"m-bucket-header\">\n            <h1 class=\"m-title\">\n                <i class=\"el-icon-receiving\"></i> 草稿箱\n                <a class=\"u-help\" href=\"/tool/21933\" target=\"_blank\">\n                    <i class=\"el-icon-question\"></i> 使用帮助\n                </a>\n            </h1>\n            <div class=\"u-op\">\n                <el-button\n                    type=\"danger\"\n                    plain\n                    icon=\"el-icon-delete\"\n                    size=\"small\"\n                    @click=\"clean\"\n                    :disabled=\"!isNotNull\"\n                >清空</el-button>\n            </div>\n        </div>\n        <template v-if=\"isSupported\">\n            <div class=\"m-bucket-warning\">\n                <el-alert\n                    title=\"以下草稿为编辑器为该浏览器产生的临时本地草稿HTML源码，并不存在于服务器中，仅用于断网或窗口异常关闭时恢复。\"\n                    type=\"warning\"\n                    show-icon\n                ></el-alert>\n            </div>\n            <div class=\"m-bucket-list\" v-if=\"isNotNull\">\n                <ul class=\"u-list\">\n                    <li class=\"u-item\" v-for=\"(item,i) in data\" :key=\"i\" @click=\"preview(item)\">\n                        <div class=\"u-label\" :class=\"{on:!!item.active}\">\n                            <i\n                                class=\"u-item-icon\"\n                                :class=\"!!item.active ? 'el-icon-folder-opened' : 'el-icon-folder'\"\n                            ></i>\n                            <span class=\"u-item-key\">{{item.key}}</span>\n                            <div class=\"u-op\">\n                                <el-button\n                                    type=\"info\"\n                                    icon=\"el-icon-document-copy\"\n                                    size=\"mini\"\n                                    class=\"u-delete\"\n                                    @click.stop\n                                    v-clipboard:copy=\"item.data\"\n                                    v-clipboard:success=\"onCopy\"\n                                    v-clipboard:error=\"onError\"\n                                >复制</el-button>\n                                <el-popconfirm title=\"确定删除吗？\" @confirm=\"del(item,i)\">\n                                    <el-button\n                                        slot=\"reference\"\n                                        type=\"danger\"\n                                        icon=\"el-icon-delete\"\n                                        size=\"mini\"\n                                        class=\"u-delete\"\n                                        @click.stop\n                                    >删除</el-button>\n                                </el-popconfirm>\n                            </div>\n                        </div>\n                        <div class=\"u-value\" v-if=\"!!item.active\">\n                            <div class=\"u-content\">{{item.data}}</div>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"m-bucket-null\" v-else>\n                <i class=\"el-icon-warning-outline\"></i> 暂无任何内容\n            </div>\n        </template>\n        <template v-else>\n            <el-alert title=\"您的浏览器太旧了，不支持本功能。\" type=\"error\" show-icon></el-alert>\n        </template>\n    </div>\n</template>\n\n<script>\n// TINYMCE AUTOSAVE\nconst DRAFT_PREFIX = \"tinymce-autosave-\";\n\nexport default {\n    name: \"draft\",\n    props: [],\n    components: {},\n    data: function () {\n        return {\n            data: [],\n        };\n    },\n    computed: {\n        isSupported: function () {\n            return !!window.localStorage;\n        },\n        isNotNull: function () {\n            return !!this.data && !!this.data.length;\n        },\n    },\n    methods: {\n        // 加载\n        loadDrafts: function () {\n            let len = localStorage.length;\n            for (let i = 0; i < len; i++) {\n                let key = localStorage.key(i);\n                if (key.startsWith(DRAFT_PREFIX)) {\n                    this.data.push({\n                        key: key,\n                        data: localStorage.getItem(key),\n                    });\n                }\n            }\n        },\n        // 清空\n        clean: function () {\n            this.$alert(\"此操作不可逆！请谨慎操作！\", \"警告\", {\n                confirmButtonText: \"确定清空\",\n                callback: (action) => {\n                    // 清空localstorage\n                    this.data.forEach((item) => {\n                        localStorage.removeItem(item.key);\n                    });\n                    // 清空缓存数据\n                    this.data = [];\n                    // 通知\n                    this.$notify({\n                        title: \"清空成功\",\n                        type: \"success\",\n                        message: `本地草稿清空成功`,\n                    });\n                },\n            });\n        },\n        // 预览\n        preview: function (item) {\n            item.active = !!!item.active;\n            this.$forceUpdate();\n        },\n        // 删除\n        del: function (item, i) {\n            localStorage.removeItem(item.key);\n            this.data.splice(i, 1);\n        },\n        // 复制\n        onCopy: function (val) {\n            this.$notify({\n                title: \"复制成功\",\n                message: \"草稿源码复制成功\",\n                type: \"success\",\n            });\n        },\n        onError: function () {\n            this.$notify.error({\n                title: \"复制失败\",\n                message: \"请手动复制\",\n            });\n        },\n    },\n    filters: {},\n    created: function () {\n        localStorage && this.loadDrafts();\n    },\n    mounted: function () {},\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/bucket.less\";\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./draft.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./draft.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./draft.vue?vue&type=template&id=47d4e2ca&\"\nimport script from \"./draft.vue?vue&type=script&lang=js&\"\nexport * from \"./draft.vue?vue&type=script&lang=js&\"\nimport style0 from \"./draft.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./draft.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}
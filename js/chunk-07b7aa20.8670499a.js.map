{"version":3,"sources":["webpack:///./src/service/namespace.js","webpack:///./src/post/namespace.vue?7515","webpack:///./src/post/namespace.vue?2941","webpack:///src/post/namespace.vue","webpack:///./src/post/namespace.vue?b6c4","webpack:///./src/post/namespace.vue","webpack:///./node_modules/sterilizer/src/lib/_typeof.js","webpack:///./node_modules/sterilizer/src/sterilizer.js","webpack:///./src/components/publish_header.vue?8f84","webpack:///./src/components/publish_header.vue?594e","webpack:///src/components/publish_header.vue","webpack:///./src/components/publish_header.vue"],"names":["getNamespace","params","$helper","method","url","createNamespace","data","$cms","post","updateNamespace","id","put","getNamespaceById","get","getNamespaceByKey","key","component","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","_t","_m","_v","_s","count","_e","rules","form","model","value","callback","$$v","$set","expression","available","slot","ready","processing","on","onSubmit","o","Object","prototype","toString","call","match","toLowerCase","str","Error","_symbols","$","_","symbols","keys","regs","values","_str","_type","includes","_toRemove","join","re","RegExp","replace","germ","undefined","Set","_detected","_germ","char","add","_sterilize","probiotics","delete","kill","words","replacement","custom","some","item","sterilizer","goBack"],"mappings":"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","file":"js/chunk-07b7aa20.8670499a.js","sourcesContent":["import { $helper } from '@jx3box/jx3box-common/js/https.js'\nimport { $cms } from '@jx3box/jx3box-common/js/https'\n\nfunction getNamespace(params) {\n  return $helper()({\n    method: 'GET',\n    url: `/api/my/namespaces`,\n    params: params,\n  })\n}\n\nfunction createNamespace(data) {\n  return $cms().post('/api/cms/namespace', data)\n}\n\nfunction updateNamespace(id, data) {\n  return $cms().put(`/api/cms/namespace/${id}`, data)\n}\n\nfunction getNamespaceById(id) {\n  return $cms().get(`/api/cms/namespace/${id}`)\n}\nfunction getNamespaceByKey(key) {\n  return $cms().get(`/api/cms/namespace-key`, {\n    params: {\n      key,\n    },\n  })\n}\n\nexport { getNamespace, getNamespaceByKey, getNamespaceById, createNamespace, updateNamespace }\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./namespace.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-dashboard-publish-namespace m-publish-box\"},[_c('pubheader',{attrs:{\"name\":_vm.name,\"localDraft\":false}},[_vm._t(\"header\")],2),_c('div',{staticClass:\"m-publish-namespace-box\"},[_c('header',{staticClass:\"m-publish-namespace-header\"},[_vm._m(0),_c('div',{staticClass:\"u-count\"},[_c('span',{staticClass:\"u-count-txt\"},[_vm._v(\" 当前可建铭牌数： \"),_c('b',[_vm._v(_vm._s(_vm.count))]),_vm._v(\" 个 \")]),_vm._m(1)])]),(_vm.success)?_c('div',{staticClass:\"m-namspace-tips\"},[_c('el-alert',{attrs:{\"title\":\"提交成功，请等待审核\",\"type\":\"success\",\"show-icon\":\"\"}})],1):_vm._e(),_c('el-form',{staticClass:\"m-publish-namespace-form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"关键词\",\"prop\":\"key\"}},[_c('el-input',{attrs:{\"placeholder\":\"全局唯一关键词\"},model:{value:(_vm.form.key),callback:function ($$v) {_vm.$set(_vm.form, \"key\", $$v)},expression:\"form.key\"}}),(!_vm.available)?_c('el-alert',{attrs:{\"title\":\"已有关键词，请重新输入\",\"type\":\"error\",\"show-icon\":\"\"}}):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"链接\",\"prop\":\"link\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入跳转地址\"},model:{value:(_vm.form.link),callback:function ($$v) {_vm.$set(_vm.form, \"link\", $$v)},expression:\"form.link\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"https://\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入关于铭牌的描述\",\"maxlength\":\"30\",\"show-word-limit\":\"\"},model:{value:(_vm.form.desc),callback:function ($$v) {_vm.$set(_vm.form, \"desc\", $$v)},expression:\"form.desc\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',{staticClass:\"u-submit\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.ready || _vm.processing},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")])],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"u-tip\"},[_vm._v(\" 铭牌是一个可以通过关键词快速访问的功能，例如定义铭牌 \\\"某某气纯宏\\\"，则可以在浏览器地址栏中通过快速输入 \"),_c('a',{attrs:{\"href\":\"https://剑网3.com/某某气纯宏\",\"target\":\"_blank\"}},[_c('b',[_vm._v(\"剑网3.com/某某气纯宏\")])]),_vm._v(\" 访问你输入的链接 \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"u-btn-buy el-button el-button--primary el-button--mini\",attrs:{\"href\":\"/vip/namespace?from=dashboard_namespace_create\",\"target\":\"_blank\"}},[_c('span',{staticClass:\"el-icon-shopping-cart-2\"}),_vm._v(\"购买铭牌 \")])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-dashboard-publish-namespace m-publish-box\">\n        <pubheader :name=\"name\" :localDraft=\"false\">\n            <slot name=\"header\"></slot>\n        </pubheader>\n        <div class=\"m-publish-namespace-box\">\n            <header class=\"m-publish-namespace-header\">\n                <div class=\"u-tip\">\n                    铭牌是一个可以通过关键词快速访问的功能，例如定义铭牌 \"某某气纯宏\"，则可以在浏览器地址栏中通过快速输入\n                    <a\n                        href=\"https://剑网3.com/某某气纯宏\"\n                        target=\"_blank\"\n                    >\n                        <b>剑网3.com/某某气纯宏</b>\n                    </a>\n                    访问你输入的链接\n                </div>\n                <div class=\"u-count\">\n                    <span class=\"u-count-txt\">\n                        当前可建铭牌数：\n                        <b>{{ count }}</b> 个\n                    </span>\n                    <a\n                        href=\"/vip/namespace?from=dashboard_namespace_create\"\n                        target=\"_blank\"\n                        class=\"u-btn-buy el-button el-button--primary el-button--mini\"\n                    >\n                        <span class=\"el-icon-shopping-cart-2\"></span>购买铭牌\n                    </a>\n                    <!-- <a\n                        href=\"/vip/namespace/?from=dashboard_namespace_create\"\n                        class=\"u-skip\"\n                        target=\"_blank\"\n                    >\n                        <span class=\"el-icon-connection\"></span>限时0.99元抢注10个铭牌\n                    </a> -->\n                </div>\n            </header>\n            <div class=\"m-namspace-tips\" v-if=\"success\">\n                <el-alert title=\"提交成功，请等待审核\" type=\"success\" show-icon></el-alert>\n            </div>\n            <el-form class=\"m-publish-namespace-form\" :rules=\"rules\" :model=\"form\">\n                <el-form-item label=\"关键词\" prop=\"key\">\n                    <el-input v-model=\"form.key\" placeholder=\"全局唯一关键词\"></el-input>\n                    <el-alert v-if=\"!available\" title=\"已有关键词，请重新输入\" type=\"error\" show-icon />\n                </el-form-item>\n                <el-form-item label=\"链接\" prop=\"link\">\n                    <el-input v-model=\"form.link\" placeholder=\"请输入跳转地址\">\n                        <template slot=\"prepend\">https://</template>\n                    </el-input>\n                </el-form-item>\n                <el-form-item label=\"描述\">\n                    <el-input\n                        v-model=\"form.desc\"\n                        placeholder=\"请输入关于铭牌的描述\"\n                        maxlength=\"30\"\n                        show-word-limit\n                    ></el-input>\n                </el-form-item>\n                <el-form-item label>\n                    <el-button\n                        class=\"u-submit\"\n                        type=\"primary\"\n                        :disabled=\"!ready || processing\"\n                        @click=\"onSubmit\"\n                    >提交</el-button>\n                </el-form-item>\n            </el-form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { sterilizer } from \"sterilizer/index.js\";\nimport pubheader from \"@/components/publish_header.vue\";\nimport {\n    getNamespaceByKey,\n    getNamespaceById,\n    createNamespace,\n    updateNamespace,\n} from \"@/service/namespace\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport lodash from \"lodash\";\nconst default_form = {\n    key: \"\",\n    desc: \"\",\n    link: \"\",\n};\nexport default {\n    name: \"namespace\",\n    props: [],\n    data: function () {\n        return {\n            name: \"剑三铭牌\",\n            form: lodash.cloneDeep(default_form),\n            count: 0,\n            available: false,\n            success: false,\n            processing: false,\n            rules: {\n                key: [\n                    {\n                        required: true,\n                        message: \"请输入铭牌名称\",\n                        trigger: \"blur\",\n                    },\n                ],\n                link: [\n                    {\n                        required: true,\n                        message: \"请输入链接网址\",\n                        trigger: \"blur\",\n                    },\n                ],\n            },\n        };\n    },\n    computed: {\n        data: function () {\n            return {\n                key: this.form.key,\n                desc: this.form.desc,\n                link: \"https://\" + this.form.link,\n                source_type: \"custom\",\n            };\n        },\n        isEditMode: function () {\n            return !!this.$route.params.id;\n        },\n        ready: function () {\n            if (this.isEditMode) {\n                return this.available && this.form.link;\n            }\n            return this.available && this.form.link && this.count;\n        },\n    },\n    methods: {\n        checkKey: function (val) {\n            if (!val) {\n                this.available = true;\n                return;\n            }\n            this.form.key = sterilizer(this.form.key)\n                .kill()\n                .removeSpace()\n                .toString();\n            if (this.form.key == this.key_cache) {\n                this.available = true;\n                return;\n            }\n            this.checkAvailable();\n        },\n        checkLink: function (val) {\n            if (!val) return;\n\n            const link = this.form.link;\n            if (link.includes(\"http://\") || link.includes(\"https://\")) {\n                this.form.link = link.replace(/https?\\:\\/\\//, \"\");\n            }\n        },\n\n        checkAvailable: function () {\n            getNamespaceByKey(this.form.key).then((res) => {\n                if (!res.data.data) {\n                    this.available = true;\n                } else {\n                    this.available = false;\n                }\n            });\n        },\n        onSubmit: function () {\n            if (this.form.desc == \"\") {\n                let profile = User.getInfo();\n                this.data.desc = profile.name + \"创建\";\n            }\n            this.processing = true;\n            if (this.isEditMode) {\n                updateNamespace(this.namespace_id, this.data)\n                    .then(() => {\n                        this.onSuccess();\n                    })\n                    .finally(() => {\n                        this.processing = false;\n                    });\n            } else {\n                createNamespace(this.data)\n                    .then(() => {\n                        this.onSuccess();\n                        this.count -= 1;\n                        this.form = lodash.cloneDeep(default_form);\n                    })\n                    .finally(() => {\n                        this.processing = false;\n                    });\n            }\n        },\n        onSuccess() {\n            this.success = true;\n            this.$notify.success({title: \"成功\", message: \"提交成功\", showClose: false});\n            setTimeout(() => {\n                this.$router.push({name: 'bucket_namespace'})\n            }, 500);\n        },\n    },\n    watch: {\n        \"form.key\": function (val) {\n            this.checkKey(val);\n        },\n        \"form.link\": function (val) {\n            this.checkLink(val);\n        },\n    },\n    created() {\n        User.getAsset().then((data) => {\n            this.count = data.namespace_card_count;\n        });\n    },\n    mounted: function () {\n        this.namespace_id = this.$route.params.id;\n        if (this.namespace_id) {\n            getNamespaceById(this.namespace_id).then((res) => {\n                const { key, desc, link } = res.data.data;\n                this.key_cache = key;\n                this.form = {\n                    key,\n                    desc,\n                    link,\n                };\n            });\n        }\n        if (this.form.key == \"\") {\n            this.available = true;\n        }\n    },\n\n    components: {\n        pubheader,\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/namespace.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./namespace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./namespace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./namespace.vue?vue&type=template&id=2fce4c54&\"\nimport script from \"./namespace.vue?vue&type=script&lang=js&\"\nexport * from \"./namespace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./namespace.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * \n * @param {any} o any object to be detected\n * @return {string} the type string\n */\nfunction _typeof(o){\n    var s = Object.prototype.toString.call(o);\n    return s.match(/\\[object (.*?)\\]/)[1].toLowerCase();\n}\n\nexport default _typeof","import _typeof from \"./lib/_typeof.js\";\n\n/**\n * @desc  Remove specified symbols & charaters\n * @param {string} str string will be sterilized\n * @return {str} the clean string\n * @return {object} a sterilizer object \n */\nclass Sterilizer {\n    constructor(str) {\n\n        if(_typeof(str)!=='string'){\n            throw new Error(\n                \"[Sterilizer::init] params should be string\"\n            );\n        }\n\n        this._symbols = {\n            \"`\": \"`\",\n            \"~\": \"~\",\n            \"!\": \"!\",\n            \"@\": \"@\",\n            \"#\": \"#\",\n            $: \"\\\\$\",\n            \"%\": \"%\",\n            \"^\": \"\\\\^\",\n            \"&\": \"&\",\n            \"*\": \"\\\\*\",\n            \"-\": \"\\\\-\",\n            _: \"_\",\n            \"=\": \"=\",\n            \"+\": \"+\",\n            \"(\": \"\\\\(\",\n            \")\": \"\\\\)\",\n            \"[\": \"\\\\[\",\n            \"]\": \"\\\\]\",\n            \"{\": \"\\\\{\",\n            \"}\": \"\\\\}\",\n            \"|\": \"\\\\|\",\n            \"\\\\\": \"\\\\\\\\\",\n            \"/\": \"/\",\n            \"?\": \"\\\\?\",\n            \":\": \":\",\n            \";\": \";\",\n            \"'\": \"'\",\n            '\"': '\"',\n            \">\": \">\",\n            \"<\": \"<\",\n            \",\": \",\",\n            \".\": \"\\\\.\",\n        };\n        this.symbols = Object.keys(this._symbols);\n        this.regs = Object.values(this._symbols);\n        this.str = str;\n        this._str = str;\n    }\n\n    // output the clean string\n    toString() {\n        return this._str;\n    }\n\n    // detected the object type\n    _detected(o) {\n        let _type = _typeof(o);\n        let _iter = [\"string\", \"array\", \"set\"];\n        if (!_iter.includes(_type))\n            throw new Error(\n                \"[Sterilizer::remove] params should be string|array|set\"\n            );\n        return o;\n    }\n\n    // replaced the specified symbols by RegExp\n    _sterilize(_toRemove) {\n        _toRemove = [..._toRemove].join(\"\");\n        let re = new RegExp(`[${_toRemove}]`, \"gm\");\n        this._str = this._str.replace(re, \"\");\n        return this\n    }\n\n    // remove the specified symbols\n    kill(germ) {\n        let _toRemove = null;\n\n        // build unique toRemove set\n        if (germ == undefined) {\n            _toRemove = new Set(this.regs);\n        } else {\n            this._detected(germ);\n            _toRemove = new Set();\n            let _germ = new Set(germ);\n            for (let char of _germ) {\n                if (this.symbols.includes(char))\n                    _toRemove.add(this._symbols[char]);\n            }\n        }\n\n        return this._sterilize(_toRemove);\n    }\n\n    // remove all the symbols exclude args\n    live(probiotics) {\n        this._detected(probiotics);\n\n        // build unique toRemove set\n        let _toRemove = new Set(this.regs);\n        for (let char of probiotics) {\n            if (this.symbols.includes(char)) {\n                _toRemove.delete(this._symbols[char]);\n            }\n        }\n\n        return this._sterilize(_toRemove);\n    }\n\n    // remove htmlspecialchars + urlspecialchars\n    safe() {\n        return this.kill([\n            \"&\",\n            \"<\",\n            \">\",\n            '\"',\n            \"'\",\n            \"+\",\n            \":\",\n            \"/\",\n            \"?\",\n            \"=\",\n            \"#\",\n            \"%\",\n        ]);\n    }\n\n    // remove htmlspecialchars\n    removeHSC() {\n        return this.kill([\"&\", \"<\", \">\", '\"', \"'\"]);\n    }\n\n    // remove urlspecialchars\n    removeURL() {\n        return this.kill([\"+\", \":\", \"/\", \"?\", \"=\", \"&\", \"#\", \"%\"]);\n    }\n\n    // remove all the space\n    removeSpace() {\n        this._str = this._str.replace(/\\s/gm, \"\");\n        return this\n    }\n\n    // remove specified charaters\n    remove(words, replacement) {\n        let re = new RegExp(`${words}`, \"gm\");\n        replacement = replacement !== undefined ? replacement : \"\";\n        this._str = this._str.replace(re, replacement);\n        return this\n    }\n\n    // remove all the HTML tags\n    removeHTMLtag() {\n        this._str = this._str.replace(/<[^>]+>/gm, \"\");\n        return this\n    }\n\n    // has symbols\n    isDirty(custom){\n        if(custom){\n            return this.str.includes(custom)\n        }else{\n            return this.symbols.some((item) => {\n                return this.str.includes(item)\n            })\n        }\n    }\n}\n\nfunction sterilizer(str) {\n    return new Sterilizer(str);\n}\n\nexport { Sterilizer, sterilizer };\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-publish-header\"},[_c('el-page-header',{attrs:{\"content\":_vm.name},on:{\"back\":_vm.goBack}}),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./publish_header.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"m-publish-header\">\n        <el-page-header @back=\"goBack\" :content=\"name\"></el-page-header>\n        <slot></slot>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: \"publish_header\",\n    props: [\"name\"],\n    data: function() {\n        return {\n        };\n    },\n    computed: {},\n    methods: {\n        goBack: function() {\n            this.$router.push(\"/\");\n        },\n    },\n    mounted: function() {},\n    components: {},\n};\n</script>\n","import { render, staticRenderFns } from \"./publish_header.vue?vue&type=template&id=c15eddea&\"\nimport script from \"./publish_header.vue?vue&type=script&lang=js&\"\nexport * from \"./publish_header.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}